{"version":3,"sources":["webpack:///./src/pages/docs/documentation.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","DocsSidebar","DocsContent","DocsArticle","Link","DocsSection","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","id","to","parentName","isMDXComponent"],"mappings":"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","file":"790a076b-37f79fa2402f8c5156a5.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */import{mdx}from'@mdx-js/react';/* @jsxRuntime classic */ /* @jsx mdx */import DefaultLayout from\"/home/antlai/git/caf_gatsbysite/src/components/layoutDocsMDX.js\";export const _frontmatter={};const makeShortcode=name=>function MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return<div{...props}/>;};const DocsSidebar=makeShortcode(\"DocsSidebar\");const DocsContent=makeShortcode(\"DocsContent\");const DocsArticle=makeShortcode(\"DocsArticle\");const Link=makeShortcode(\"Link\");const DocsSection=makeShortcode(\"DocsSection\");const layoutProps={_frontmatter};const MDXLayout=DefaultLayout;export default function MDXContent({components,...props}){return<MDXLayout{...layoutProps}{...props}components={components}mdxType=\"MDXLayout\">\n\n\n    <DocsSidebar mdxType=\"DocsSidebar\"/>\n    <DocsContent mdxType=\"DocsContent\">\n      <DocsArticle id=\"concepts\"mdxType=\"DocsArticle\">\n        <h1>{`Concepts`}</h1>\n        <p>{`If you prefer to get into coding quickly, read `}<Link to=\"#cloud-assistant\"mdxType=\"Link\">{`Cloud Assistant`}</Link>{` first, and then `}<Link to=\"#install\"mdxType=\"Link\">{`Install`}</Link>{` and `}<Link to=\"#headless-example\"mdxType=\"Link\">{`First App`}</Link>{`.`}</p>\n        <p>{`To see the big picture first, keep on reading...`}</p>\n        <DocsSection id=\"components\"mdxType=\"DocsSection\">\n          <h2>{`Components`}</h2>\n          <p>{`In `}<em parentName=\"p\">{`Caf.js`}</em>{` we build `}<strong parentName=\"p\">{`everything`}</strong>{` with hierarchies of components.`}</p>\n          <p>{`Our component model was inpired by the `}<a parentName=\"p\"{...{\"href\":\"https://en.wikipedia.org/wiki/SmartFrog\"}}>{`SmartFrog Framework`}</a>{` and the `}<a parentName=\"p\"{...{\"href\":\"https://erlang.org\"}}>{`Erlang/OTP`}</a>{` libraries.`}</p>\n          <p>{`Unless you are writing plugins, or reusing the component framework for something else, it is unlikely that you will write components from scratch. But if you are curious, you can see how `}<Link to=\"../../apis/#caf_components\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n          <p>{`This section is all about using existing ones.`}</p>\n          <h4>{`Asynchronous Creation`}</h4>\n          <p>{`A component is created with an `}<strong parentName=\"p\">{`asynchronous factory method`}</strong>{`. During component construction we can, for example, look up properties in `}<em parentName=\"p\">{`Redis`}</em>{`, and never block the main loop. With factory methods we can swap implementations without modifying the code.`}</p>\n          <p>{`Even though component construction is asynchronous, `}<em parentName=\"p\">{`Caf.js`}</em>{` builds a hierarchy of components with a `}<strong parentName=\"p\">{`deterministic order`}</strong>{`. A parent component is only inserted in its parent context `}<strong parentName=\"p\">{`after`}</strong>{` its children are created in `}<strong parentName=\"p\">{`left to right`}</strong>{` order. When the hierarchy is destroyed, the order is reversed. The topmost component is special, it is always there.`}</p>\n          <p>{`Dependencies between components are respected by controlling creation order.`}</p>\n          <h4>{`Supervision Trees`}</h4>\n          <p>{`A parent component periodically checks the health of its children. If one is missing, or in a failed state, it takes one of these three recovery actions:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Shutdown remaining children in reverse order, and then restart them all.`}</li>\n            <li parentName=\"ul\">{`Restart only the missing child.`}</li>\n            <li parentName=\"ul\">{`Ignore the failure.`}</li>\n          </ul>\n          <p>{`What if the component keeps failing? Its parent component eventually fails, and the fault bubbles up. If it reaches the top component, the process exits, and `}<em parentName=\"p\">{`Kubernetes`}</em>{` restarts the container somewhere else.`}</p>\n          <p>{`No more zombie containers due to `}<strong parentName=\"p\">{`shallow`}</strong>{` health checking!`}</p>\n          <h4>{`How to Navigate the Hierarchy?`}</h4>\n          <p>{`Every component has a reference, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$`}</code>{`, to a context shared with its siblings. Components register with a name, which is unique in that context. For example, if component `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` is created before sibling component `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`bar`}</code>{`, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`bar`}</code>{` can access `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.foo`}</code></p>\n          <p>{`What about components that are not siblings? Every context has a reference `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`_`}</code>{` to the topmost component that is allowed to see. Children of this component can be accessed with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$._.$`}</code>{`. For example, the logger component is the first child of the topmost component, visible to others as `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$._.$.log`}</code>{`.`}</p>\n          <p>{`Application code is not allowed to navigate the internal hierarchy. Instead, security proxies to internal components populate `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$`}</code>{`, and you never use `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`_`}</code>{`. For example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.log`}</code>{` is a reference to the logger security proxy, that internally finds the real logger component in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`$._.$.log`}</code>{`.`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` internals are written in a functional style, hiding these private references in closures.`}</p>\n          <h4>{`Describing Hierarchies with JSON`}</h4>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"json\"}}><pre parentName=\"div\"{...{\"className\":\"language-json\"}}><code parentName=\"pre\"{...{\"className\":\"language-json\"}}><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"top\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"module\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"caf_components#supervisor\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"description\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"Supervisor for this app.\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"env\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"logLevel\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"process.env.LOG_LEVEL||DEBUG\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"somethingElse\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"process.env.SOMETHING_ELSE||{\\\\\"goo\\\\\":2}\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"maxRetries\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"process.env.MAX_RETRIES||10\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"retryDelay\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"process.env.RETRY_DELAY||1000\"`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"components\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"log\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"module\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"caf_components#plug_log\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"description\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"Logger service\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"env\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n                `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"logLevel\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"$._.env.logLevel\"`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"foo\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"module\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"./myApp\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"description\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"My app component\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"env\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n                `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"somethingElse\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"$._.env.somethingElse\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n                `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"message\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"Hello\"`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`The JSON file above, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`components.json`}</code>{`,  describes a parent component `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`top`}</code>{` with two child components `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`log`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{`. Since `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` is created after sibling `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`log`}</code>{`, it can safely find the logger with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.log`}</code>{`.`}</p>\n          <p>{`The attribute `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`module`}</code>{` identifies the factory method that instantiates the component. For example, for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`caf_components#supervisor`}</code>{` the factory method will be found with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`module.require(\"caf_components\").supervisor`}</code>{`.`}</p>\n          <p>{`The attribute `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`env`}</code>{` specifies initialization properties for the component. Three examples of property value types:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`Hello`}</code>{`: a JSON serialized type. If JSON parsing fails, we assume it was a string that was not quoted.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`process.env.LOG_LEVEL||DEBUG`}</code>{`: a system environment property. If `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`LOG_LEVEL`}</code>{` is not set, we use `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`DEBUG`}</code>{` as default. Resolved values are always JSON serialized types.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`$._.env.logLevel`}</code>{`: a reference to the topmost `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`env`}</code>{`. In this case it resolves to `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`process.env.LOG_LEVEL||DEBUG`}</code>{`.`}</li>\n          </ul>\n          <p>{`To create an instance of the hierarchy, `}<em parentName=\"p\">{`Caf.js`}</em>{`  merges the instantiation properties with the topmost `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`env`}</code>{`. And this happens before resolving any other properties.`}</p>\n          <p>{`Combined with linking, we can configure internal components without knowing the internal structure of the description.`}</p>\n          <h4>{`Patching JSON Descriptions`}</h4>\n          <p>{`In most cases we do not create descriptions from scratch. We use a base description as a template, and change a few attributes, or add/delete some components.`}</p>\n          <p>{`To change `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`components.json`}</code>{` create a new description called `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`components++.json`}</code>{` that will be merged with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`components.json`}</code>{`.`}</p>\n          <p>{`For example, to modify the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`message`}</code>{` property`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"json\"}}><pre parentName=\"div\"{...{\"className\":\"language-json\"}}><code parentName=\"pre\"{...{\"className\":\"language-json\"}}><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"top\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"components\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"foo\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"env\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`                `}<span parentName=\"span\"{...{\"className\":\"token property\"}}>{`\"message\"`}</span><span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`\"Goodbye\"`}</span></span>{`            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`or set `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`module`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`null`}</code>{` to delete the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` component`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"json\"}}><pre parentName=\"div\"{...{\"className\":\"language-json\"}}><code parentName=\"pre\"{...{\"className\":\"language-json\"}}><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"top\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"components\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"foo\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token property\"}}>{`\"module\"`}</span><span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token null keyword\"}}>{`null`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`or to insert a new component `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`bar`}</code>{` before `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code></p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"json\"}}><pre parentName=\"div\"{...{\"className\":\"language-json\"}}><code parentName=\"pre\"{...{\"className\":\"language-json\"}}><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"top\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"components\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span><span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`\"log\"`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"name\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"bar\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"module\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"./myApp\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"description\"`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"My other app component\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"env\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n                `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"somethingElse\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"$._.env.somethingElse\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n                `}<span parentName=\"code\"{...{\"className\":\"token property\"}}>{`\"message\"`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"Whatever\"`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`Note the \"touch\" operation to indicate the insertion position in the array. Insertion of a component with a new key is right after the last array operation.`}</p>\n          <p>{`When the first array operation inserts a component with a new key, it becomes the first element of the array.`}</p>\n        </DocsSection>\n        <DocsSection id=\"cloud-assistant\"mdxType=\"DocsSection\">\n          <h2>{`Cloud Assistant`}</h2>\n          <p>{`The Cloud Assistant (CA) is the main abstraction provided by the `}<em parentName=\"p\">{`Caf.js`}</em>{` framework. The foundation of a CA is the Actor Model. `}<em parentName=\"p\">{`Caf.js`}</em>{` makes actors transactional, and mediates access to the external world with transactional plugins.`}</p>\n          <p>{`The internal state of a CA is `}<strong parentName=\"p\">{`always`}</strong>{` consistent with its external commitments, even after server failures.`}</p>\n          <p>{`The  `}<Link to=\"/orchestration#transactional-actors\"mdxType=\"Link\">{`Reliable Service Orchestration`}</Link>{` section described the Actor Model, our transactional plugins, the CA checkpointing implementation with `}<em parentName=\"p\">{`Redis`}</em>{`, and the recovery strategies after a failure.`}</p>\n          <p>{`In this section we focus on what all this means for your code.`}</p>\n          <h4>{`Hello World`}</h4>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'getCounter()'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The file `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{` is the entry point for your application. You can change the name of this file by changing configuration properties, but it can be confusing for others reading your code if you do so.`}</p>\n          <p>{`This file exports a mixin of methods for your CA using the property `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`methods`}</code>{`.\nThere are two types of methods:`}</p>\n          <ul>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`Internal methods`}</strong>{` called by the framework. They always have a prefix name `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`__ca_`}</code>{`. For example, `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`__ca_init__()`}</code>{` will be called by `}<em parentName=\"li\">{`Caf.js`}</em>{` the first time the CA is initialized.`}</li>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`External methods`}</strong>{` called by remote clients. They are all the others. For example, `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` can be invoked by an authorized client to know the current counter value.`}</li>\n          </ul>\n          <p>{`Methods are `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`async`}</code>{` methods, and always return an array. This array represents a tuple error-value, where an optional application-level error is the first element of the array, and an optional second element is the value returned to the client when there are no errors.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`Caf.js`}</em>{` application loads with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`caf.init()`}</code>{`. We pass as an argument the current `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`module`}</code>{` object,  to facilitate finding descriptions and plugins that share directory with the file `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{`. The `}<em parentName=\"p\">{`Caf.js`}</em>{` loader maintains a list of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`module`}</code>{` objects, and tries them in sequence until it finds the resource.`}</p>\n          <p>{`A CA keeps internal state in two properties:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`this.state`}</code>{`: Checkpointed state, needs to be JSON-serializable, and always modified within a transaction.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`this.scratch`}</code>{`: Non-transactional state, not checkpointed, but can be anything. Typically used for caching data, or debugging.`}</li>\n          </ul>\n          <p>{`Think of a CA as a sealed object.  Never add state outside these two properties.`}</p>\n          <p>{`Access plugins with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$`}</code>{`. For example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.log`}</code>{` returns a proxy to the logger service, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.log.debug()`}</code>{` adds a debug message to the log.\nTo configure plugins `}<em parentName=\"p\">{`Caf.js`}</em>{` uses JSON descriptions, as discussed in `}<Link to=\"#headless-example\"mdxType=\"Link\">{`First App`}</Link>{`.`}</p>\n          <h4>{`Request Serialization`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` util `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'util'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` setTimeoutPromise `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` util`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`promisify`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`setTimeout`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`setTimeoutPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`A CA serializes requests with a queue. Before processing the next request in the queue, it ensures that the current one has finished, even if that requires waiting for the completion of several asynchronous steps.`}</p>\n          <p>{`Serialization does not reduce performance. There could be thousands of CAs in a single process, and blocking one of them does not affect the others, since each CA has its own queue, and its state is private.`}</p>\n          <p>{`And serialization in `}<em parentName=\"p\">{`Caf.js`}</em>{` is a `}<strong parentName=\"p\">{`cluster-wide`}</strong>{` property. Servers can fail, with hundreds of processes spread across many servers running your app, but CA requests will always be processed one after another.`}</p>\n          <p>{`What is the benefit of serialization?`}</p>\n          <p>{`Serialization enables a `}<strong parentName=\"p\">{`much simpler`}</strong>{` programming abstraction.`}</p>\n          <p>{`Let's assume that `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`increment()`}</code>{` is expected to return a unique value each time is called.`}</p>\n          <p>{`The innocent looking `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`increment()`}</code>{` method would have a subtle bug if it were implemented in the same way with existing web application frameworks, such as `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Express`}</code>{`.`}</p>\n          <p>{`If one request is waiting for the timeout, and another one starts executing, the second one will also update `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.counter`}</code>{`. When the first one ends the timeout, it will return the current value of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.counter`}</code>{`, which was updated by the second request. Now both return the same value.`}</p>\n          <p>{`And races tend to break things when the system is under heavy load, in production, not when doing simple testing. With the convenience of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`async/await`}</code>{` primitives in modern `}<em parentName=\"p\">{`JavaScript`}</em>{`, introducing races is so much easier...`}</p>\n          <h4>{`Error Handling`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` assert `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'assert'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`n`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`n `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`<`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Only increment!'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`assert`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`!`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`isNaN`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`There are two kinds of errors:`}</p>\n          <ul>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`Application-level`}</strong>{` errors that your code knows best how to handle. These are errors returned in the first element of the array.`}</li>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`Unrecoverable`}</strong>{` errors, mostly bugs, which `}<em parentName=\"li\">{`Caf.js`}</em>{` does not expect your code to handle gracefully. These are uncaught exceptions thrown by your code.`}</li>\n          </ul>\n          <p>{`The client library handles these two types of errors very differently, as we will see `}<Link to=\"#client\"mdxType=\"Link\">{`soon`}</Link>{`.`}</p>\n          <p>{`But a CA always aborts the transaction associated with the request. This means that any changes to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state`}</code>{` are reversed, and all the transactional plugins will also abort, avoiding any external side-effects.`}</p>\n          <p>{`Again, this enables a `}<strong parentName=\"p\">{`much simpler`}</strong>{` programming abstraction.`}</p>\n          <p>{`In the example above, a negative increment is handled as an application-level error, because we assume the client code could do something about it, like suggesting a different service that can decrement.`}</p>\n          <p>{`What happens if the input `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`n`}</code>{` is the string `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`oops`}</code>{`? The comparison with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`0`}</code>{` is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`false`}</code>{`, and we get a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`NaN`}</code>{` after the addition. The assertion throws, creating an unrecoverable error.`}</p>\n          <p>{`In this case a traditional web application framework would have corrupted the state of this CA forever. With millions of cheap CAs, expected to run for years with minimal supervision, manual recovery is not in the menu. This is a disaster.`}</p>\n          <p>{`Note that we are `}<strong parentName=\"p\">{`not`}</strong>{` encouraging to delay input validation, or promote other bad programming habits, but mistakes happen, and it is a good idea to have a safety net.`}</p>\n          <h4>{`External Consistency`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` assert `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'assert'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`<=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`100`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Limit exceeded'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The internal state of a CA is always consistent with its external commitments.`}</p>\n          <p>{`This sounds a bit abstract, let's give an example to clarify what we mean.`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` uses a transactional plugin, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`session`}</code>{`, to send notifications to clients. We will talk about sessions in the `}<Link to=\"#autonomous\"mdxType=\"Link\">{`next`}</Link>{` section but, for this discussion, it is just a plugin with external side-effects.`}</p>\n          <p>{`Calling `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`increment()`}</code>{` adds one to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.counter`}</code>{`, and sends a notification with the new counter.`}</p>\n          <p>{`What happens when the counter exceeds `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`100`}</code>{`? It returns an error, aborting the transaction, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.counter`}</code>{` rolls back to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`100`}</code>{`.`}</p>\n          <p>{`But what about the notification? The external world saw that the internal state is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`101`}</code>{`, but that is inconsistent with the current value of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`100`}</code>{`.`}</p>\n          <p>{`And this is also a problem for smaller values. If we send the notification, and then the server crashes `}<strong parentName=\"p\">{`before`}</strong>{` checkpointing, the state update is lost forever. And the world saw the new value.`}</p>\n          <p>{`In most frameworks the missile has already launched, and there is not much we can do about it.`}</p>\n          <p>{`But in `}<em parentName=\"p\">{`Caf.js`}</em>{` we use transactional plugins to externalize state changes. For example, when we call `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.session.notify()`}</code>{`, the plugin just appends to a log our intent to send the notification, but it does `}<strong parentName=\"p\">{`not`}</strong>{` sent it. Only when the request commits, and the log of actions and the state changes have been checkpointed, the notification is sent.`}</p>\n          <p>{`Transactional plugins `}<strong parentName=\"p\">{`compose`}</strong>{` using a two-phase commit protocol. We can mix plugins from different providers, and commit them atomically, or abort all of them if one cannot commit. But this happens behind the scenes, application code does not see this complexity.`}</p>\n          <p>{`And yet again, this enables a `}<strong parentName=\"p\">{`much simpler`}</strong>{` programming abstraction.`}</p>\n          <h4>{`Learn More`}</h4>\n          <p>{`A CA can do much more. Update the schema of its internal state safely. Read application properties from the environment. Customize actions after hibernation.`}</p>\n          <p>{`See the jsdoc documentation `}<Link to=\"../../apis/#caf_ca\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n        </DocsSection>\n        <DocsSection id=\"autonomous\"mdxType=\"DocsSection\">\n          <h2>{`Autonomous Computation`}</h2>\n          <p>{`In the introduction to `}<Link to=\"../../autonomous\"mdxType=\"Link\">{`Autonomous Computation`}</Link>{` we described a few use cases, and gave an overview of notifications in `}<em parentName=\"p\">{`Caf.js`}</em>{`.`}</p>\n          <p>{`This section is all about implementing these ideas in your applications.`}</p>\n          <h4>{`Sessions`}</h4>\n          <p>{`When spawning a long term activity in the Cloud, it is crucial to manage notifications for offline clients. This means queueing them in the Cloud until clients are ready to read them. But it also means ensuring that `}<em parentName=\"p\">{`Caf.js`}</em>{` does not run out of memory with a leaky queue. And when the client is back online, low latency interaction is a must.`}</p>\n          <p>{`What is the best strategy to manage notification queues?`}</p>\n          <p>{`It depends. Limiting queue size is a given, but deciding what to evict is not. Shall we stop queueing new notifications, or remove the old ones, or just keep the last one, or delete redundant ones, or ...`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` sets some sensible limits, but it also makes the notification queues visible to application code. Your autonomous code can supervise the queues.`}</p>\n          <p>{`And a notification queue has a name. A simple name that matches the session name chosen by the client. Swap client devices, type this name, and your notifications will follow you. Or use a different name per device to keep them separately.`}</p>\n          <p>{`Let's show an example`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`SESSION`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`limitQueue`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`SESSION`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`%`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`props`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`divisor `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`SESSION`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span></span>{`    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`To make your CA autonomous, implement the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__()`}</code>{` method, and the runtime will call it periodically.`}</p>\n          <p>{`How often? The default is every 2 seconds, but you can change that in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`framework++.json`}</code>{`. Just modify the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`interval`}</code>{` property of the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cron_pulser`}</code>{` component.`}</p>\n          <p>{`In this case `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__()`}</code>{` increments a counter, and whenever the counter is a multiple of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`divisor`}</code>{`, it sends a notification to a queue named `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{`. Note that `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.props.divisor`}</code>{` is a property configured in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca++.json`}</code>{`.`}</p>\n          <p>{`Calling `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`limitQueue()`}</code>{` overrides the default configuration, and the queue just keeps the last notification.`}</p>\n          <p>{`When a client connects with a session named `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{`, it first receives this last notification. And then, it keeps receiving new notifications in real-time until it disconnects.`}</p>\n          <h5>{`Notification Groups`}</h5>\n          <p>{`Delivering a notification removes it from the queue. When several clients need to see the same notification, use multiple queues and duplicate notifications.`}</p>\n          <p>{`What if the number of clients is not known a priori? Queues are created on-demand, and we address them with regular expressions.`}</p>\n          <p>{`Let's see an example.`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`SESSION`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token regex\"}}><span parentName=\"span\"{...{\"className\":\"token regex-delimiter\"}}>{`/`}</span><span parentName=\"span\"{...{\"className\":\"token regex-source language-regex\"}}>{`^admin`}</span><span parentName=\"span\"{...{\"className\":\"token regex-delimiter\"}}>{`/`}</span></span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`exports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`%`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`props`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`divisor `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`SESSION`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`When a client calls `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{`, its session name will be added to the notification group, if it starts with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{`. A name suffix could be random, or based on the username, or chosen by the user. The goal is to avoid name collisions with other clients. After being offline, the client could reuse the session name to receive the pending notifications.`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` could run out of memory if it cannot control the number of sessions in the notification group. There is a system-wide property to do that, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`maxSessions`}</code>{`, that can be changed in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca++.json`}</code>{`, or through environment properties. Similarly, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`maxMessages`}</code>{` will limit the maximum number of messages in any queue.`}</p>\n          <p>{`When the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`maxSessions`}</code>{` limit has been reached, any session that is offline, and has not set a custom limit of messages, can be garbage collected. This means that your pending notifications may not be there when you reconnect.`}</p>\n          <h4>{`Learn More`}</h4>\n          <p>{`A persistent session can guarantee that an stateless client recovers gracefully after a crash, avoiding duplicated requests. See `}<Link to=\"../../apis/#caf_session\"mdxType=\"Link\">{`Persistent Session`}</Link>{` for details, and the app `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_hellofail.git\"}}>{`HelloFail`}</a>{` for an example.`}</p>\n        </DocsSection>\n        <DocsSection id=\"client\"mdxType=\"DocsSection\">\n          <h2>{`Client Library`}</h2>\n          <p>{`The `}<em parentName=\"p\">{`Caf.js`}</em>{`  `}<Link to=\"../../apis/#caf_cli\"mdxType=\"Link\">{`client library`}</Link>{` is a tiny library that just needs web socket support. It works in the browser, in the Cloud, with your scripts, and with embedded devices. Currently JavaScript-only, but more languages will be added soon.`}</p>\n          <p>{`The goal of this library is to create an authenticated session with a CA, and then provide both a request-response and a notification model, using a common abstraction.`}</p>\n          <h4>{`Authentication`}</h4>\n          <p>{`JSON Web Tokens (JWTs) embedded in URLs is the main mechanism for client authentication. Tokens are self-describing, typically short-lived, and signed with the private key of the `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_accounts.git\"}}>{`Accounts`}</a>{` service. Its corresponding public key is always available, and apps validate tokens locally.`}</p>\n          <p>{`Tokens form a semi-lattice, making it easier to weaken them on-demand. By scoping a token to a particular app, owner, or CA name, we eliminate man-in-the-middle attacks, and reduce the damage of a compromised token.`}</p>\n          <p>{`The `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_launcher.git\"}}>{`Launcher`}</a>{` app manages your tokens in the background, with CAs, renewing and weakening them as needed. It provides Single Sign-On (SSO) for all your CAs. Before redirecting to another app, it just adds the correct token to the URL.`}</p>\n          <p>{`This means that the client library has very little work to do. In most cases, it just extracts the token from a fragment in the URL, and sends it to the CA for validation using TLS.`}</p>\n          <p>{`What happens if there is no valid token in the URL?`}</p>\n          <p>{`The client library calls a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`TokenFactory`}</code>{` hook method that will create the token based on other credentials, for example, your username and password for the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Accounts`}</code>{` service.`}</p>\n          <p>{`The client script in our `}<Link to=\"#headless-example\"mdxType=\"Link\">{`first app`}</Link>{` shows how to use the SRP `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`TokenFactory`}</code>{`.`}</p>\n          <p>{`In the following examples the security plugin has been disabled.`}</p>\n          <h4>{`Request-Response`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_cli `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`caf_cli`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`URL`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'http://root-hello.vcap.me:3000/#from=foo-ca1&ca=foo-ca1'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` s `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`caf_cli`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`Session`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`URL`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ns`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`onopen`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`try`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`let`}</span>{` counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` s`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`7`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getPromise`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`close`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`catch`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// Application-level error`}</span>{`\n        s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`close`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ns`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`onclose`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`err`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`Got exception `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`err`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        process`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`exit`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Done OK'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    process`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`exit`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The script above first creates a session with CA `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1`}</code>{`. There are two fields in the URL fragment, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`from`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca`}</code>{`, and they are the same. This means that the client is acting as the `}<strong parentName=\"p\">{`owner`}</strong>{` of this CA, and the CA will be created if needed. Most clients act as owners, and they always have full access. However, in order to claim a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`from`}</code>{` origin, a matching authentication token (not shown) needs to be part of the URL.`}</p>\n          <p>{`After creating the session the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`onopen`}</code>{` handler gets called, and we can invoke remote methods on this CA. But there is some magic behind the scenes.`}</p>\n          <p>{`CA methods `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`increment()`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` become methods of session `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`s`}</code>{`. The client library has downloaded some metadata from the server, and it has created local methods matching the CA remote methods. These local methods will do sanity checks on the arguments before forwarding requests.`}</p>\n          <p>{`What about error handling?`}</p>\n          <p>{`As we discussed in the `}<Link to=\"#cloud-assistant\"mdxType=\"Link\">{`Cloud Assistant`}</Link>{` section, there are two types of errors:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`An `}<strong parentName=\"li\">{`Application-level`}</strong>{` error, i.e., the first element of the returned array, is used by the client library to reject the returned `}<em parentName=\"li\">{`Promise`}</em>{`. Therefore, `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`await`}</code>{` will throw, and the error can be managed inline.`}</li>\n            <li parentName=\"ul\">{`An `}<strong parentName=\"li\">{`Unrecoverable`}</strong>{` error, i.e., exceptions thrown by your CA code, will instead close the session, returning the error in the `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`onclose`}</code>{` handler.`}</li>\n          </ul>\n          <p>{`Just to confuse you, this example handles an application-level error by closing the session with it, a common pattern of simple scripts. But there is no need of closing the session, we could just continue.`}</p>\n          <p>{`What happens if we call multiple methods on the session without `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`await`}</code>{`? The session has a local queue, and serializes requests. Some recoverable errors are also handled transparently by retrying the last request. If you want multiple concurrent requests, create multiple sessions. But remember that the CA will serialize them anyway...`}</p>\n          <h4>{`Notifications`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_cli `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`caf_cli`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` util `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'util'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` setTimeoutPromise `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` util`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`promisify`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`setTimeout`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`URL`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'http://root-hello.vcap.me:3000/#session=admin&from=foo-ca1&ca=foo-ca1'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` s `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`caf_cli`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`Session`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`URL`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ns`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`onopen`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`try`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`let`}</span>{` counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`increment`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`7`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getPromise`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`setTimeoutPromise`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`10000`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n        s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`close`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`catch`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// Application-level error`}</span>{`\n        s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`close`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`s`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function-variable function\"}}>{`onmessage`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token parameter\"}}>{`msg`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` caf_cli`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getMethodArgs`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    console`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`Got notification `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`s`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`onclose`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`err`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`Got exception `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`err`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        process`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`exit`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    console`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`log`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Done OK'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    process`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`exit`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`Let's add notifications to our previous example. A couple of changes:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Provide a session name in the URL. We use the name `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` to match the queue name in the previous CA example. If missing, the default session name is `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`default`}</code>{`.`}</li>\n            <li parentName=\"ul\">{`Create an `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`onmessage`}</code>{` handler that will receive each notification.`}</li>\n          </ul>\n          <p>{`Using `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getMethodArgs()`}</code>{` we can extract the counter value from the notification.`}</p>\n          <h4>{`Learn More`}</h4>\n          <p>{`Why do we need `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getPromise()`}</code>{`? Multi-method requests, that extend the scope of a transaction to a sequence of CA methods.`}</p>\n          <p>{`And more... Encrypt messages end-to-end with Diffie-Hellman keys. Synchronize local time with the Cloud.`}</p>\n          <p>{`See the `}<Link to=\"../../apis/#caf_cli\"mdxType=\"Link\">{`jsdoc`}</Link>{` for details.`}</p>\n        </DocsSection>\n        <DocsSection id=\"trusted-bus\"mdxType=\"DocsSection\">\n          <h2>{`Trusted Bus`}</h2>\n          <p>{`In the `}<Link to=\"../../collaborative\"mdxType=\"Link\">{`Collaborative Multi-tenancy`}</Link>{` overview, we talked about the importance of bootstrapping trust between users of one app, and how a `}<em parentName=\"p\">{`Trusted Bus`}</em>{` abstraction helped with that goal.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`Trusted Bus`}</em>{` mediates `}<strong parentName=\"p\">{`internal`}</strong>{` interactions between users, authenticating requests, and enforcing access control policy at the target endpoints.`}</p>\n          <p>{`The emphasis is on `}<strong parentName=\"p\">{`internal`}</strong>{`. Within `}<strong parentName=\"p\">{`one`}</strong>{` app.`}</p>\n          <p>{`The client library is not designed for internal interactions between untrusted peers. Authentication tokens will be compromised. This could be fixed with public-key cryptography, but the performance hit, and key management complexity, makes it impractical.`}</p>\n          <p>{`Can we authenticate requests without tokens, or other crypto?`}</p>\n          <p>{`Sure, if every possible request source is trusted, and requests in transit cannot be modified.`}</p>\n          <p>{`The `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{` configures Kubernetes network policy to do just that. The `}<em parentName=\"p\">{`Node.js`}</em>{` processes of your application live in their own network bubble, isolated from other apps.`}</p>\n          <p>{`And application code does not directly access the network. Instead, it uses plugins that have been wrapped by security proxies. These proxies do not trust the application code, adding to each request the name of the CA that sends it.`}</p>\n          <p>{`This makes it less likely that a bug in your application will compromise authentication. After all, your code does not do anything, and authentication is transparently handled by proxies.`}</p>\n          <p>{`What about authorization?`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` always performs an access control check at the destination, before calling  a CA method. It also makes the caller CA name visible, while the method executes, with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.security.getCallerFrom()`}</code>{`.`}</p>\n          <p>{`But your code configures policy. And the rest of this section explains how.`}</p>\n          <h4>{`Defaults`}</h4>\n          <p>{`The default policy is `}<strong parentName=\"p\">{`trust no one`}</strong>{`. The owner is the only one that can invoke methods on a CA.`}</p>\n          <p>{`And allowed interactions are external-only, using the client library, with owner requests where the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`from`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca`}</code>{` properties match, as described in the `}<Link to=\"#client\"mdxType=\"Link\">{`Client Library`}</Link>{` section.`}</p>\n          <p>{`No `}<em parentName=\"p\">{`Trusted Bus`}</em>{` interaction.`}</p>\n          <p>{`If nothing works, `}<strong parentName=\"p\">{`check the security policy`}</strong>{` first...`}</p>\n          <h4>{`Simple Rules`}</h4>\n          <p>{`Naming conventions simplify policy.`}</p>\n          <p>{`In `}<em parentName=\"p\">{`Caf.js`}</em>{` naming is based on local namespaces.The name of a CA is always relative to its owner, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1`}</code>{` means the user `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` owns a CA named `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca1`}</code>{`. The name of a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`SharedMap`}</code>{` is always relative to the CA that owns it, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1-friends`}</code>{`. And so on...`}</p>\n          <p>{`It is easy to enforce and describe policies based on ownership.`}</p>\n          <p>{`For example, to enable CAs with the same owner, using the `}<em parentName=\"p\">{`Trusted Bus`}</em>{`, to call the method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` on each other.`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` rule `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`newSimpleRule`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'getCounter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`SELF`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`addRule`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`rule`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'getCounter()'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`More examples.`}</p>\n          <p>{`To open all the CA methods`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` rule `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`newSimpleRule`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`SELF`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`or to enable CA with local name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca3`}</code>{` of my friend `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`joe`}</code>{`, i.e., `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`joe-ca3`}</code>{`.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` rule `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`newSimpleRule`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'joe'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'ca3'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`Note that to allow external interactions with the client library there is a \"secret\" method that also needs to be enabled, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__external_ca_touch__`}</code>{`.`}</p>\n          <p>{`Prefer the `}<em parentName=\"p\">{`Trusted Bus`}</em>{` over external interaction. It is no longer your code making requests. There are dragons out there...`}</p>\n          <h4>{`Aggregate Rules`}</h4>\n          <p>{`To describe a dynamic policy, potentially shared by many CAs, `}<em parentName=\"p\">{`Caf.js`}</em>{` uses a `}<em parentName=\"p\">{`SharedMap`}</em>{`.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`SharedMap`}</em>{`  is a replicated Distributed Data Structure (DDS) that can only be written by its owner. We describe `}<em parentName=\"p\">{`SharedMap`}</em>{` `}<Link to=\"#sharedmap\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n          <p>{`For example, assuming that each owner has a CA named `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` that maintains policy for all its CAs:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'primaryACL'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`isAdmin`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`primaryMap`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`joinName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addWritableMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'acl'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addReadOnlyMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'aclAgg'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`primaryMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`isAggregate`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token boolean\"}}>{`true`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` rule `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`newAggregateRule`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'getCounter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'aclAgg'`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`security`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addRule`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`rule`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`changePolicy`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`principal`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` isAllowed`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`isAllowed`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n                $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acl`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`principal`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token boolean\"}}>{`true`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n                $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acl`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`delete`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`principal`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Not an admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'getCounter()'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`Each CA:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Finds the name of the `}<em parentName=\"li\">{`SharedMap`}</em>{` managed by the owner's `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA.`}</li>\n            <li parentName=\"ul\">{`Creates a read-only replica.`}</li>\n            <li parentName=\"ul\">{`Sets an access control rule based on that replica.`}</li>\n          </ul>\n          <p>{`In addition, each `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Creates a writable `}<em parentName=\"li\">{`SharedMap`}</em>{` to maintain the set of principals allowed to access the method `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{`.`}</li>\n            <li parentName=\"ul\">{`Provides a `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`changePolicy()`}</code>{` method to update this `}<em parentName=\"li\">{`SharedMap`}</em>{`. Only the owner of the `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA can invoke this method.`}</li>\n          </ul>\n          <p>{`Principals can be a CA name, like `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1`}</code>{`, but also the name of a CA owner, such as `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{`. For the latter case, all the CAs owned by `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` will be allowed.`}</p>\n          <h5>{`Delegation`}</h5>\n          <p>{`Maintaining the quickly changing membership of a large group is a team effort.`}</p>\n          <p>{`With `}<em parentName=\"p\">{`Caf.js`}</em>{`, it is very easy to get help from others by linking `}<em parentName=\"p\">{`SharedMaps`}</em>{`.`}</p>\n          <p>{`The security library will traverse the resulting graph, and a principal is in the allowed set if it is in `}<strong parentName=\"p\">{`any`}</strong>{` of the reachable `}<em parentName=\"p\">{`SharedMaps`}</em>{`. The graph can have cycles too.`}</p>\n          <p>{`And what's cool is that a `}<em parentName=\"p\">{`SharedMap`}</em>{` is a scalable distributed data structure, updated with transactional plugins, with clean semantics that do not break the Actor model. Supporting thousands of processes across many servers...`}</p>\n          <p>{`This means that access control policy will scale with your app. And policy changes should be predictable, and propagate quickly.`}</p>\n          <p>{`Let's show how linking works:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`LINK_KEY`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'__link_key__'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    \\\\\\\\ after `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`changePolicy`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`linkNamespace`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`ns`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` isAllowed`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` all `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`$$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acl`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`LINK_KEY`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            isAllowed `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`?`}</span>{` all`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`add`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`ns`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` all`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`delete`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`ns`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acl`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`LINK_KEY`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`...`}</span>{`all`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Not an admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    \\\\\\\\ before `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`The default key for linking is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__link_key__`}</code>{`. Its value is an array with the names of other `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`SharedMaps`}</code>{`, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`[\"antonio-admin-friends\", \"joe-admin-acl\"]`}</code>{`. Only the owner of the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA can change it, using the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`linkNamespace()`}</code>{` method.`}</p>\n          <h4>{`Learn More`}</h4>\n          <p>{`Decentralized authorization systems, such as SDSI, inspired our approach to access control policy. More details  `}<Link to=\"../../apis/#caf_security\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n        </DocsSection>\n        <DocsSection id=\"sharedmap\"mdxType=\"DocsSection\">\n          <h2>{`SharedMap`}</h2>\n          <p>{`The Actor Model has a weakness. It is difficult to replicate state efficiently, and without breaking serialization, across many actors.`}</p>\n          <p>{`When thousands of actors live in a process, it makes sense to use shared memory for replicated data. But if we do, we could introduce all the gremlins of shared memory programming. Deadlocks. Data races. Awful failure modes.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`SharedMap`}</em>{` takes advantage of shared-memory, keeps serialization, and avoids the gremlins. We discussed how `}<Link to=\"../../apis/#caf_sharing\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n          <p><em parentName=\"p\">{`SharedMaps`}</em>{` are Distributed Data Structures (DDS) that can scale to thousands of processes on many nodes.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`SharedMap`}</em>{` has one writer, its CA owner, and many CAs that can read from it. Its name is relative to the CA owner. For example, if the CA name is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1`}</code>{`, a valid `}<em parentName=\"p\">{`SharedMap`}</em>{` name is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-ca1-map1`}</code>{`. Naming, and the `}<Link to=\"#trusted-bus\"mdxType=\"Link\">{`Trusted Bus`}</Link>{`, ensure that the owner is the only writer.`}</p>\n          <p>{`CAs treat a `}<em parentName=\"p\">{`SharedMap`}</em>{` as internal state. Updates are checkpointed with a transactional plugin, guaranteeing  `}<Link to=\"#cloud-assistant\"mdxType=\"Link\">{`external consistency`}</Link>{`. Updates respect serialization, and readers only see changes `}<strong parentName=\"p\">{`after`}</strong>{` a completed request.`}</p>\n          <p>{`Let's see some examples`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'primarySharedMap'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`isAdmin`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`primaryMap`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`joinName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` initialValue `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addWritableMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'primary'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`initialValue`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addReadOnlyMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'replica'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`primaryMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` value `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`replica`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` value`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`Each user of this application first creates an `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA, and then multiple reader CAs. The `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA periodically updates a `}<em parentName=\"p\">{`SharedMap`}</em>{`, and readers provide a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` method that will `}<strong parentName=\"p\">{`eventually`}</strong>{` reflect these changes (see `}<Link to=\"../../apis/#caf_sharing\"mdxType=\"Link\">{`monotonic read consistency`}</Link>{`).`}</p>\n          <p>{`CA creation order is important because readers will block until the `}<em parentName=\"p\">{`SharedMap`}</em>{` is available. To avoid blocking, we can set the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`{bestEffort: true}`}</code>{` option in the method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`addReadOnlyMap()`}</code>{`. In that case, when the map is not available, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`$$.replica`}</code>{` would be `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`null`}</code>{`, and CAs can call `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`addReadOnlyMap()`}</code>{` again. This retry is typically added to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__()`}</code>{`.`}</p>\n          <p>{`Note that, after `}<em parentName=\"p\">{`SharedMap`}</em>{` creation, a reader CA does not depend on the writer CA to be active. It always loads the last snapshot of the `}<em parentName=\"p\">{`SharedMap`}</em>{`.`}</p>\n          <p>{`In the previous example, we used the aliases `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`primary`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`replica`}</code>{`, and access the  `}<em parentName=\"p\">{`SharedMaps`}</em>{` with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`$$.primary`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`$$.replica`}</code>{`. These are just local aliases, changing them has no external effects.`}</p>\n          <p>{`Initialization of a `}<em parentName=\"p\">{`SharedMap`}</em>{` uses the option `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`initialValue`}</code>{`. This is convenient because we cannot write to it in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_init__()`}</code>{`.`}</p>\n          <p>{`Updates respect serialization. If we rewrite `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` like this`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}>{`    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` counter1 `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`replica`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`setTimeoutPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`10000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` counter2 `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` $$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`replica`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`assert`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`counter1 `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` counter2`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'This never throws!'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`counter1`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` counter2`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></code></pre></div>\n          <p>{`the assertion `}<strong parentName=\"p\">{`never`}</strong>{` throws. The values of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter1`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter2`}</code>{` are always the same!`}</p>\n          <p>{`And a transactional plugin makes updates atomic, and externally consistent. For example, changing `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__`}</code>{` to`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}>{`    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            $$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`setTimeoutPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            $$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter2'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`2`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`  counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`2`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span></code></pre></div>\n          <p>{`the value of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter2`}</code>{` will `}<strong parentName=\"p\">{`always`}</strong>{` be seen by readers as one more than the value of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter`}</code>{`. And if a client receives the notification, it means that there is a checkpoint of a `}<em parentName=\"p\">{`SharedMap`}</em>{` capturing the new update. Note that this does not mean that replicas received the update, but they will eventually get it...`}</p>\n          <p>{`Another important advantage of `}<em parentName=\"p\">{`SharedMaps`}</em>{` is `}<strong parentName=\"p\">{`silent updates`}</strong>{`. When the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter`}</code>{` increments, readers do `}<strong parentName=\"p\">{`not`}</strong>{` process a request to update their state, and instead, the update just changes shared memory. One memory update shared by thousands of CAs in the same process. That's so much faster than separate requests!`}</p>\n          <h4>{`Updating Code`}</h4>\n          <p><em parentName=\"p\">{`SharedMaps`}</em>{` can contain serialized methods, set with the method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`setFun()`}</code>{`, and that transforms a `}<em parentName=\"p\">{`SharedMap`}</em>{` into a custom replicated object.`}</p>\n          <p>{`There are serious security implications of using `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`eval`}</code>{` to instantiate these methods, and `}<em parentName=\"p\">{`Caf.js`}</em>{` delays instantiation until the first call to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`applyMethod()`}</code>{`. Moreover, the option `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`{noExec: true}`}</code>{` for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`addReadOnlyMap()`}</code>{` disables instantiation forever.`}</p>\n          <p>{`Never execute untrusted code. `}<em parentName=\"p\">{`Caf.js`}</em>{` is `}<strong parentName=\"p\">{`not`}</strong>{` designed to protect your app from it. But the enforcement of the single-writer policy, together with the naming convention, authenticates the origin of a `}<em parentName=\"p\">{`SharedMap`}</em>{` custom method.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`SharedMap`}</em>{` can be replicated in an IoT device, or in the browser. This makes serialized methods a convenient way to quickly update code everywhere. For example, end users can safely upload their own code to your app in the Cloud, and then execute it only in their own Raspberry Pi, without compromising multi-tenancy in your application. See `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_hellodynamic.git\"}}>{`HelloDynamic`}</a>{` for an example of programmable gesture detection.`}</p>\n          <p>{`Transactional updates guarantee that changes to both data and code are always in sync. For example, you can create getters and setters that understand the internal schema of your `}<em parentName=\"p\">{`SharedMap`}</em>{`, and, whenever the schema changes, your helper methods will change too, matching the new schema. Never worry about data versioning again!`}</p>\n          <p>{`Let's show an example:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// isAdmin() and primaryMap() similar to previous example`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addWritableMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'primary'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_MAP`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`addReadOnlyMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'replica'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`primaryMap`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`base`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'base'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` base`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` body `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`\"return prefix + (this.get('base') + Math.random());\"`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`primary`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`setFun`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'computeLabel'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'prefix'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` body`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`else`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Cannot write to SharedMap'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getLabel`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`prefix`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`try`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` $$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`replica`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`applyMethod`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'computeLabel'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`prefix`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`catch`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`In this example, calling `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`install`}</code>{` by the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` owner initializes a  `}<em parentName=\"p\">{`SharedMap`}</em>{` with a field `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`base`}</code>{`, and a method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`computeLabel`}</code>{`. This method takes an argument `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`prefix`}</code>{`, looks up the key `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`base`}</code>{` in the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`SharedMap`}</code>{`, obtains a random number, and adds them all up.`}</p>\n          <p>{`The first time we call `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getLabel()`}</code>{`, `}<em parentName=\"p\">{`Caf.js`}</em>{` calls `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`eval`}</code>{` with the serialized method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`computeLabel`}</code>{`, and binds it to the `}<em parentName=\"p\">{`SharedMap`}</em>{` replica. Later invocations are much faster, since we only need to call `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`eval`}</code>{` when the method changes.`}</p>\n        </DocsSection>\n        <DocsSection id=\"publish-subscribe\"mdxType=\"DocsSection\">\n          <h2>{`Publish-Subscribe`}</h2>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` supports a traditional publish-subscribe communication pattern. There are two kinds of topics:`}</p>\n          <ul>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`Private`}</strong>{` topics where only one CA can publish, but anybody can subscribe to receive them. The name of the topic is prefixed by the CA name. For example, if the owner CA name is `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`foo-ca1`}</code>{`, a valid private topic is `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`foo-ca1-mynews`}</code>{`.`}</li>\n            <li parentName=\"ul\"><strong parentName=\"li\">{`Forum`}</strong>{` topics where anybody can publish or subscribe to. They always have the prefix `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`forum-`}</code>{`, for example, `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`forum-othernews`}</code>{`.`}</li>\n          </ul>\n          <p>{`Subscribers dedicate a method for handling messages. It is recommended that this method is  internal, i.e., prefixed by `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_`}</code>{`, and therefore, it is always invoked by the `}<em parentName=\"p\">{`Trusted Bus`}</em>{`.`}</p>\n          <p>{`The signature for this method is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`async function(topic, msg, from)`}</code>{`,  with fields:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`topic: string`}</code>{` needed to multiplex a method for several topics.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`msg: string`}</code>{` received message, typically JSON-serialized.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`from: string`}</code>{` authenticated publisher name. Needed because the method `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`this.$.security.getCallerFrom()`}</code>{` does not provide the real caller for internal methods.`}</li>\n          </ul>\n          <p>{`Filtering of publishers is based on setting `}<em parentName=\"p\">{`Trusted Bus`}</em>{` policies for this method, or using the authenticated `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`from`}</code>{` argument to change behavior.`}</p>\n          <p><em parentName=\"p\">{`Publish-subscribe`}</em>{` and `}<em parentName=\"p\">{`SharedMap`}</em>{` are typically used together. Publish is best effort, and  `}<em parentName=\"p\">{`SharedMaps`}</em>{` can be used to acknowledge important messages. Or a `}<em parentName=\"p\">{`SharedMap`}</em>{` can update the state of many CAs first, including code, and a later published message trigger actions using the new state.`}</p>\n          <p>{`Point-to-point messaging can be emulated with private topics. Point-to-point is `}<strong parentName=\"p\">{`the root of all evil`}</strong>{` regarding scalability. At the network level, it always creates an all-to-all communication pattern in actor systems. Try to abstract communication with higher level services, such as `}<em parentName=\"p\">{`Publish-subscribe`}</em>{` or `}<em parentName=\"p\">{`SharedMap`}</em>{`, and limit point-to-point to where it is strictly necessary.`}</p>\n          <p>{`Let's show an example:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'admin'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CHANNEL`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'myNews'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`isAdmin`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`===`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function-variable function\"}}>{`primaryChannel`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`function`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`self`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` name `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` self`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_getName__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`joinName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`splitName`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`name`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CA`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`ADMIN_CHANNEL`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`pubsub`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`subscribe`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`primaryChannel`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'__ca_handleMessage__'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`isAdmin`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`pubsub`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`publish`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`primaryChannel`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n                                  `}<span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`Counter: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_handleMessage__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`topic`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` msg`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`from`}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`Got `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`msg`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{` from `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`from`}</span><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`msg`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`admin`}</code>{` CA periodically publishes a counter, which any other CA with the same owner subscribes to. The response to a received message is to queue a client notification.`}</p>\n          <p>{`Note that the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`pubsub`}</code>{` plugin is transactional, and respects external consistency. This means that when `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__`}</code>{` publishes a new counter, the checkpointed  state of this CA already reflects the new counter.`}</p>\n        </DocsSection>\n        <DocsSection id=\"iot-device\"mdxType=\"DocsSection\">\n          <h2>{`IoT Device`}</h2>\n          <p>{`In this section we cover the code that you write under the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`./iot`}</code>{` directory. Bridging code that runs in the browser, or in a Raspberry Pi, or in an ARM container during development. See `}<Link to=\"#add-device\"mdxType=\"Link\">{`Simulated Device`}</Link>{` for an introduction.`}</p>\n          <h4>{`Caf.js Lite`}</h4>\n          <p>{`The platform running your IoT device code is a simplified version of the one that runs CAs. We call it `}<em parentName=\"p\">{`Caf.js Lite`}</em>{`.`}</p>\n          <p>{`There is at most `}<strong parentName=\"p\">{`one`}</strong>{` `}<em parentName=\"p\">{`CA Lite`}</em>{` instance per `}<em parentName=\"p\">{`Caf.js Lite`}</em>{` platform. The long term state of this instance is managed by a `}<em parentName=\"p\">{`Companion CA`}</em>{` in the Cloud.`}</p>\n          <p><em parentName=\"p\">{`Caf.js Lite`}</em>{` does not checkpoint. When a device restarts, it first resets the `}<em parentName=\"p\">{`CA Lite`}</em>{` state, and then, it contacts its `}<em parentName=\"p\">{`Companion CA`}</em>{` for instructions and data.`}</p>\n          <p>{`Without local long term state, consistency is less of a concern. And some plugins are not transactional, interacting directly with the device to improve latency.`}</p>\n          <p>{`We kept some `}<em parentName=\"p\">{`CA`}</em>{` features. Method execution serialized by a queue. An error rollbacks the changes to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state`}</code>{`. Hierarchies of components configured with JSON descriptions. Plugins accessed with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$`}</code>{`. Support for `}<em parentName=\"p\">{`SharedMaps`}</em>{`...`}</p>\n          <p>{`In `}<em parentName=\"p\">{`Caf.js Lite`}</em>{`, configuration is simpler. There is only one JSON file, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot.json`}</code>{`, which merges the functionality of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`framework.json`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca.json`}</code>{`.`}</p>\n          <p>{`We also made explicit that `}<em parentName=\"p\">{`Caf.js Lite`}</em>{` is not `}<em parentName=\"p\">{`Caf.js`}</em>{` by renaming some methods. For example, paying homage to `}<em parentName=\"p\">{`Arduino`}</em>{`, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_init__`}</code>{` becomes `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__iot_setup__`}</code>{`, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_pulse__`}</code>{` is now `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__iot_loop__`}</code>{`.`}</p>\n          <p>{`Complete examples are in `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_iot.git\"}}>{`GitHub`}</a>{`.`}</p>\n          <p>{`Let's look at a \"Hello World\" example first.`}</p>\n          <p>{`The `}<em parentName=\"p\">{`CA Lite`}</em>{` code in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot/lib/iot_methods.js`}</code></p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_iot `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_iot'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_setup__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_loop__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` msg `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`fromCloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'msg'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Counter:'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`and the `}<em parentName=\"p\">{`Companion CA`}</em>{` implementation in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib/ca_methods.js`}</code>{`:`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`setMessage`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`newMsg`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        $$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`fromCloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'msg'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` newMsg`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` $$ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`sharing`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` $$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`What are `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.fromCloud`}</code>{`? Two `}<Link to=\"#sharedmap\"mdxType=\"Link\">{`SharedMaps`}</Link>{` that every `}<em parentName=\"p\">{`CA Lite`}</em>{` has. They are both managed in the Cloud by the `}<em parentName=\"p\">{`Companion CA`}</em>{`, but by convention:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{` can only be written by the `}<em parentName=\"li\">{`CA Lite`}</em>{`, and read by both the `}<em parentName=\"li\">{`CA Lite`}</em>{` and its `}<em parentName=\"li\">{`Companion CA`}</em>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`this.fromCloud`}</code>{` written by the `}<em parentName=\"li\">{`Companion CA`}</em>{`, and read by the `}<em parentName=\"li\">{`CA Lite`}</em>{`.`}</li>\n          </ul>\n          <p>{`How does it work? After processing a request, the `}<em parentName=\"p\">{`CA Lite`}</em>{` syncs its state with the `}<em parentName=\"p\">{`Companion CA`}</em>{`. Local changes to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{` are uploaded, and then applied to its primary `}<em parentName=\"p\">{`SharedMap`}</em>{` in the Cloud. The local replica of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.fromCloud`}</code>{` gets updated too.`}</p>\n          <p>{`By having both primaries in the Cloud, they are always checkpointed, and managed with transactions. And sensor data from one device can be easily shared by creating more replicas of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{`.`}</p>\n          <p>{`Syncing every request with the Cloud is sometimes too costly. Skip the sync with the option `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`{noSync: true}`}</code>{` for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cron`}</code>{` tasks, or for requests explicitly created with the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.queue`}</code>{` plugin.`}</p>\n          <p>{`Going back to the example. During initialization, the last `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter`}</code>{` value is read from `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{`. Authorized clients can also get it with the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`getCounter()`}</code>{` method, which reads from the same `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.toCloud`}</code>{`.`}</p>\n          <p>{`In the other direction, the value of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`msg`}</code>{` is set by the `}<em parentName=\"p\">{`Companion CA`}</em>{` in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`setMessage()`}</code>{`, which writes to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.fromCloud`}</code>{`. After sync, the device changes the log message in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__iot_loop__`}</code>{`, also using `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`msg`}</code>{`.`}</p>\n          <h4><em parentName=\"h4\">{`Companion CA`}</em>{` Hooks`}</h4>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// methods called by the iot device`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`trace__iot_sync__ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'__ca_traceSync__'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`trace__iot_resume__ `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'__ca_traceResume__'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// called when the device syncs state`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_traceSync__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Syncing!!:'`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` now`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// called when the device reconnects`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_traceResume__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Resuming!!:'`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` now`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The `}<em parentName=\"p\">{`Companion CA`}</em>{` can schedule an action when the `}<em parentName=\"p\">{`CA Lite`}</em>{` connects, or syncs state  with it. Just define two hook methods, typically called `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_traceSync__`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__ca_traceResume__`}</code>{`.`}</p>\n          <h4>{`Cron Tasks`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_iot `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_iot'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` util `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'util'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` setTimeoutPromise `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` util`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`promisify`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`setTimeout`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_setup__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` options `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`noSync`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`:`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token boolean\"}}>{`true`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cron`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`addCron`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'helloCron'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'greetings'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Hello:'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`2000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` options`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cron`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`addCron`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'byeCron'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'greetings'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Bye:'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`3000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` options`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_loop__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`fromCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'msg'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Counter:'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`greetings`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token parameter\"}}>{`greet`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`greet `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` now`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`It is easy to create periodic tasks with the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cron`}</code>{` plugin. This example creates two sequences of log entries, using two different prefixes. The first argument to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`addCron()`}</code>{` is the name of the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cron`}</code>{`, needed to delete it. In this case, only `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`__iot_loop__()`}</code>{` syncs with the Cloud.`}</p>\n          <p>{`Note that JavaScript is a garbage-collected language, and it cannot provide hard real-time guarantees. However, in a lightly loaded Raspberry Pi 4, it is reasonable to expect `}<strong parentName=\"p\">{`most of the time`}</strong>{` interval time variation within 10 msec, for an interval longer than 100 msec.`}</p>\n          <p>{`If you need better, you could use the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cron`}</code>{` task to configure a microcontroller, well in advance of triggering the action.`}</p>\n          <h4>{`Error Handling`}</h4>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_iot `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_iot'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` myUtils `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` caf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`caf_components`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`myUtils`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` util `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'util'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` setTimeoutPromise `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` util`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`promisify`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`setTimeout`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_setup__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cron`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`addCron`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'crashCron'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'crash'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`5000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_loop__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`fromCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`get`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'msg'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`||`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Counter:'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`toCloud`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`set`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'counter'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`crash`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`setTimeoutPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`100`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`throw`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token class-name\"}}>{`Error`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Oops'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token comment\"}}>{`// delete this method and see how error handling changes`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token function\"}}>{`__iot_error__`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token parameter\"}}>{`error`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`warn`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'Got error '`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`+`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`                                      myUtils`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`errToPrettyStr`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`error`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token comment\"}}>{`// try \\`return [error]\\` and see what happens`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`    `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The default error handling strategy in `}<em parentName=\"p\">{`Caf.js Lite`}</em>{` is to log the error, and then do a full reset.`}</p>\n          <p>{`We can change this behavior by adding `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{` __iot_error__()`}</code>{`, an error handler method.`}</p>\n          <p>{`If `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{` __iot_error__()`}</code>{` propagates the error in the returned array tuple, `}<em parentName=\"p\">{`Caf.js Lite`}</em>{` does a full reset, as before. But, when the error is not returned, it is ignored by the runtime, giving you full control.`}</p>\n          <h4>{`Cloud Client`}</h4>\n          <p>{`A device plugin called `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cloud`}</code>{` wraps the standard `}<Link to=\"#client\"mdxType=\"Link\">{`Client Library`}</Link>{`.`}</p>\n          <p>{`A `}<em parentName=\"p\">{`CA Lite`}</em>{` can call external methods of the `}<em parentName=\"p\">{`Companion CA`}</em>{` using this plugin.`}</p>\n          <p>{`It can also receive notifications, using the default session name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot`}</code>{`, which can be changed in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot++.json`}</code>{`.`}</p>\n          <p>{`The default behavior for handling a notification is to sync state. However, using the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`registerHandler()`}</code>{` method, we can add our own handler. This handler typically creates, using the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`queue`}</code>{` plugin, a local request to process the notification.`}</p>\n          <p>{`Let's look at an example:`}</p>\n          <p>{`The `}<em parentName=\"p\">{`CA Lite`}</em>{` code in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot/lib/iot_methods.js`}</code></p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_iot `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_iot'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_setup__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`registerHandler`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token parameter\"}}>{`msg`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=>`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` args `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getMethodArgs`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`queue`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`process`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'greetings'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` args`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`greetings`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`msg`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` now`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`try`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`            `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` value `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`await`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cloud`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`cli`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`getPromise`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Got '`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` value`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`catch`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span>{`err`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_loop__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'loop:'`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` now`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`and the `}<em parentName=\"p\">{`Companion CA`}</em>{` implementation in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib/ca_methods.js`}</code>{`:`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'foo:'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'iot'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`setMessage`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`newMsg`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` newMsg`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`The `}<em parentName=\"p\">{`Companion CA`}</em>{` periodically creates a notification with session name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot`}</code>{`.\nThis notification is handled by the `}<em parentName=\"p\">{`CA Lite`}</em>{` by calling `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`greetings()`}</code>{`. This method then calls back the `}<em parentName=\"p\">{`Companion CA`}</em>{` to read the current counter.`}</p>\n          <h4>{`Timed Bundles`}</h4>\n          <p><em parentName=\"p\">{`Warning: do not use `}<strong parentName=\"em\">{`Caf.js`}</strong>{` for safety critical applications.`}</em></p>\n          <p><em parentName=\"p\">{`Caf.js IoT Device`}</em>{`  was originally created to control `}<strong parentName=\"p\">{`drones`}</strong>{` using the Cloud. It was fun, and we learned a few things the hard way:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Losing connectivity, or an increase in latency, meant that a crash was likely.`}</li>\n            <li parentName=\"ul\">{`Accurate coordination of more than a few drones was difficult.`}</li>\n          </ul>\n          <p>{`To improve reliability and scalability we did four changes:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Modify the drone firmware to run `}<em parentName=\"li\">{`Caf.js Lite`}</em>{` locally.`}</li>\n            <li parentName=\"ul\">{`Group actions, with relative timing between them, into `}<strong parentName=\"li\">{`bundles`}</strong>{`.`}</li>\n            <li parentName=\"ul\">{`Start executing a bundle with Coordinated Universal Time (UTC), not just when it arrives. Keep the drone clock synchronized with the Cloud.`}</li>\n            <li parentName=\"ul\">{`Execute actions from `}<strong parentName=\"li\">{`at most one`}</strong>{` bundle at `}<strong parentName=\"li\">{`any time`}</strong>{`.`}</li>\n          </ul>\n          <p>{`By bundling actions, once the first action started, the others will follow, regardless of connectivity.`}</p>\n          <p>{`Therefore, a bundle could always leave the drone in a safe state by adding late recovery actions. When the next bundle executes on time, the previous recovery actions are ignored. But, when it does not, the custom recovery actions will take over.`}</p>\n          <p>{`And firing bundles with UTC time meant that the `}<em parentName=\"p\">{`Companion CA`}</em>{` could pipeline them, caching them in the drone before they were needed, providing smooth movement. But, at the same time, a new bundle could quickly change drone direction, invalidating the previously cached bundle.`}</p>\n          <p>{`Moreover, using UTC time meant that we could now coordinate drone actions across the world, and scale to millions. We just needed millions of `}<em parentName=\"p\">{`Companion CAs`}</em>{`, using `}<em parentName=\"p\">{`SharedMaps`}</em>{` to share state, and `}<em parentName=\"p\">{`Publish-Subscribe`}</em>{` to coordinate,  and a second or two of early warning to customize and propagate the bundles.`}</p>\n          <p>{`You can read all about our world domination ambitions `}<Link to=\"../../collaborative\"mdxType=\"Link\">{`here`}</Link>{`. The drones are coming.`}</p>\n          <p>{`In a more serious note, let's show how to code world domination.`}</p>\n          <p>{`The `}<em parentName=\"p\">{`CA Lite`}</em>{` code in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot/lib/iot_methods.js`}</code></p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf_iot `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_iot'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_setup__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`down`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`speed`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`vvvvvvvvDown: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`now`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{` speed: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`speed`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`up`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`speed`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`^^^^^^^^Up: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`now`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{` speed: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`speed`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`recover`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`msg`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`RECOVERING: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`now`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{` msg: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`msg`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__iot_loop__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` now `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`new`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token class-name\"}}>{`Date`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getTime`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token template-string\"}}><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`loop: `}</span><span parentName=\"span\"{...{\"className\":\"token interpolation\"}}><span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`\\${`}</span>{`now`}<span parentName=\"span\"{...{\"className\":\"token interpolation-punctuation punctuation\"}}>{`}`}</span></span><span parentName=\"span\"{...{\"className\":\"token template-punctuation string\"}}>{`\\``}</span></span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf_iot`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`and the `}<em parentName=\"p\">{`Companion CA`}</em>{` implementation in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib/ca_methods.js`}</code>{`:`}</p>\n          <div{...{\"className\":\"gatsby-highlight has-highlighted-lines\",\"data-language\":\"js\"}}><pre parentName=\"div\"{...{\"className\":\"language-js\"}}><code parentName=\"pre\"{...{\"className\":\"language-js\"}}><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` caf `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`require`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'caf_core'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token comment\"}}>{`// TRY: reduce the margin to <10msec and see how bundles arrive late`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token constant\"}}>{`MARGIN`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`100`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\nexports`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`methods `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_init__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'foo:'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`maxAcks `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`__ca_pulse__`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`if`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acks `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acks`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`length `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`>`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`&&`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`             `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`!`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`acks`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`result`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`{`}</span></span>{`            `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`log`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`debug`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token string\"}}>{`'Last bundle was late'`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`const`}</span>{` bundle `}<span parentName=\"span\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`iot`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`newBundle`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token constant\"}}>{`MARGIN`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token comment\"}}>{`// TRY: kill the server, and the device eventually executes \\`recover\\``}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        bundle`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`down`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`0`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`up`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`300`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`1`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`recover`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token number\"}}>{`5000`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'go home'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`iot`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`sendBundle`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`bundle`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token comment\"}}>{`// \\`notify\\` improves responsiveness.`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token comment\"}}>{`//TRY: comment the following line, and see how bundles arrive late`}</span></span><span parentName=\"code\"{...{\"className\":\"gatsby-highlight-code-line\"}}>{`        `}<span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`$`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`session`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"span\"{...{\"className\":\"token function\"}}>{`notify`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"span\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"span\"{...{\"className\":\"token string\"}}>{`'iot'`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"span\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></span>{`        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`setMessage`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token parameter\"}}>{`newMsg`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{` newMsg`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`async`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`getCounter`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`{`}</span>{`\n        `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`return`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`[`}</span><span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`null`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`,`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`msg `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`+`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token keyword\"}}>{`this`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`state`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span>{`counter`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`]`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\n    `}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span>{`\n`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`}`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`\ncaf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`.`}</span><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`init`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`(`}</span>{`module`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`)`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span></code></pre></div>\n          <p>{`How to create a `}<em parentName=\"p\">{`Timed Bundle`}</em>{`? The plugin `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot`}</code>{` provides a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`newBundle`}</code>{` method, with an argument to customize the expected propagation time for the bundle. Similar to the construction of a session with the `}<em parentName=\"p\">{`Client Library`}</em>{`, the plugin introspects the code in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot_methods.js`}</code>{`, and adds methods for creating individual actions. Relative timing is always in milliseconds.`}</p>\n          <p>{`The `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`sendBundle()`}</code>{` method freezes the starting UTC time of the bundle, and makes it available to the `}<em parentName=\"p\">{`CA Lite`}</em>{`. It can also take a starting time offset, to be added to the propagation time.`}</p>\n          <p>{`The `}<em parentName=\"p\">{`CA Lite`}</em>{` will get the bundle the next time it syncs. It is wise to force it to sync `}<strong parentName=\"p\">{`asap`}</strong>{`, by sending a notification to the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot`}</code>{` session. See the `}<em parentName=\"p\">{`Cloud Client`}</em>{` previous section for details.`}</p>\n          <p>{`Late bundles are ignored. The `}<em parentName=\"p\">{`Companion CA`}</em>{` learns that the last bundle was late by setting `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.maxAcks`}</code>{` to one, and periodically reading `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.state.acks[0].result`}</code>{`. In robust applications, it will dynamically adjust the propagation margin when that happens.`}</p>\n          <p>{`In some cases we want to execute a bundle when it arrives. For example, in an emergency situation. We can force this behavior by adding the argument `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.iot.NOW`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`sendBundle()`}</code>{`.`}</p>\n          <p>{`The problem with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.iot.NOW`}</code>{` is that a month-old bundle, could still trigger an action when we turn on the device. It is recommended to use instead `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`this.$.iot.NOW_SAFE`}</code>{`, which expires the bundle after a reasonable time limit. The default is ten minutes.`}</p>\n          <h4>{`Learn More`}</h4>\n          <p>{`Connect to Bluetooth devices using the `}<Link to=\"../../apis/#caf_iot_gatt\"mdxType=\"Link\">{`gatt`}</Link>{` plugin. Switch GPIO pins with `}<Link to=\"../../apis/#caf_rpi_gpio\"mdxType=\"Link\">{`gpio`}</Link>{`. Explore `}<em parentName=\"p\">{`Caf.js Lite`}</em>{` APIs `}<Link to=\"../../apis/#caf_iot\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n        </DocsSection>\n      </DocsArticle>\n      <DocsArticle id=\"getting-started\"mdxType=\"DocsArticle\">\n        <h1>{`Getting Started`}</h1>\n        <DocsSection id=\"install\"mdxType=\"DocsSection\">\n          <h2>{`Install`}</h2>\n          <h4>{`Software Requirements`}</h4>\n          <p><code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`node`}</code>{` >= 12 (LTS only), `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`yarn`}</code>{` >= 1.20, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`docker`}</code>{` >= 19.`}</p>\n          <p>{`We rely on `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`yarn`}</code>{` workspaces, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`npm`}</code>{` does not support them yet.`}</p>\n          <p>{`Our development is mostly on Linux. Best platform for running `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`docker`}</code>{` containers.`}</p>\n          <h4>{`Download`}</h4>\n          <p>{`Clone the main repository`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`git`}</span>{` clone https://github.com/cafjs/caf.git`}</code></pre></div>\n          <p>{`Update submodules`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` caf`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`git`}</span>{` submodule update --init`}</code></pre></div>\n          <p>{`Install dependencies`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`yarn`}</span>{` run installAll`}</code></pre></div>\n          <p>{`Add to your path the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs`}</code>{` tool binary`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`export`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}><span parentName=\"span\"{...{\"className\":\"token environment constant\"}}>{`PATH`}</span></span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`<`}</span>{`your_install_directory`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`>`}</span>{`/caf/bin:`}<span parentName=\"code\"{...{\"className\":\"token environment constant\"}}>{`$PATH`}</span></code></pre></div>\n          <p>{`Download the latest `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`docker`}</code>{` images`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs update`}</code></pre></div>\n          <h4>{`Test`}</h4>\n          <p>{`Let's build and run locally a simple app.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` apps/caf_helloworld`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs build`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs run helloworld`}</code></pre></div>\n          <p>{`With `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`docker ps`}</code>{` you should see seven running containers. They simulate the support services that we run in the Cloud.`}</p>\n          <p>{`The app launcher URL is `}<a parentName=\"p\"{...{\"href\":\"http://root-launcher.vcap.me\"}}>{`http://root-launcher.vcap.me`}</a>{` (DNS resolves `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`*.vcap.me`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`127.0.0.1`}</code>{`, the local loop). Using your browser, login with user `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo`}</code>{` and password `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`bar`}</code>{`. Then, with the top left menu, click the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`+`}</code>{` icon to add a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`helloworld`}</code>{` app instance.`}</p>\n          <p>{`Fill the form with:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`App publisher: `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`root`}</code>{` (in local mode apps are always published by `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`root`}</code>{`)`}</li>\n            <li parentName=\"ul\">{`App name: `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`helloworld`}</code></li>\n            <li parentName=\"ul\">{`CA name: anything containing ASCII characters and numbers.`}</li>\n          </ul>\n          <p>{`and a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`counter`}</code>{` example should appear. Use the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`+`}</code>{` again to create other instances, and then switch between them with the top left menu.`}</p>\n          <p>{`To stop it, a single `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Control-C`}</code>{` will initiate a gentle container shutdown but, for the impatient, a second `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Control-C`}</code>{` will brute force a clean-up. Double tap.`}</p>\n          <p>{`In both cases we should be able to restart without losing the previous state, since the Redis container generates a checkpoint file in the host diretory `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`/tmp`}</code>{`. Delete this file to start from scratch:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`sudo`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`rm`}</span>{` /tmp/redis/appendonly.aof`}</code></pre></div>\n          <p>{`Finally, when containers hang, we can always use the nuclear cleanup option`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs reset`}</code></pre></div>\n        </DocsSection>\n        <DocsSection id=\"headless-example\"mdxType=\"DocsSection\">\n          <h2>{`Your First App`}</h2>\n          <p>{`Let's create a simple app with no front end.`}</p>\n          <p><em parentName=\"p\">{`Caf.js`}</em>{` is managed as a monorepo using `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`yarn`}</code>{` workspaces. Anything under the sub-directory `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`caf/playground/app`}</code>{` becomes part of the workspace, and we will create the app there.`}</p>\n          <p>{`Using a monorepo has many advantages, but the most important one is that you know what you are getting. When we create a release of `}<em parentName=\"p\">{`Caf.js`}</em>{` we freeze all our packages, and test them together. Your app will not suffer from semver mistakes due to these packages.`}</p>\n          <p>{`To create the app skeleton we use `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs generate`}</code>{`, an application template generator. The default templates are in a Docker image, and it is easy to customize and share your templates by publishing a new image. See  `}<Link to=\"#tools\"mdxType=\"Link\">{`Tools`}</Link>{` for details.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` playground`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`rm`}</span>{` -fr app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs generate myapp cloud ./app`}</code></pre></div>\n          <p>{`and then install, build, and run. Install is only needed for the first build, to update dependencies in the monorepo.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs build`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs run -d myapp`}</code></pre></div>\n          <p>{`This time we used the flag `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`-d`}</code>{` to turn on debugging mode. You should see debug logs in the console. It also opens the debug port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`9229`}</code>{`, and you can set breakpoints, and inspect variables, with the Chrome browser developer tools (`}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`chrome://inspect`}</code>{`). The `}<em parentName=\"p\">{`Redis`}</em>{` instance is also accessible in host port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`6380`}</code>{`.`}</p>\n          <p>{`There is no front end, and we use a script in the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`util`}</code>{` directory to read state, and subscribe to notifications.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` util`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` ./client.js --url http://root-myapp.vcap.me bar foo-ca1`}</code></pre></div>\n          <p>{`What is in the box?`}</p>\n          <p>{`Let's look at the files in the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib`}</code>{` directory:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`rsa_pub.pem`}</code>{` A dummy public key to validate authentication tokens in a local deployment. When you deploy your app in the `}<em parentName=\"li\">{`Caf.js Cloud`}</em>{`, we swap this key by the \"real\" one.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`framework++.json`}</code>{` Describes changes to the baseline platform configuration in `}<Link to=\"../../apis/#caf_platform\"mdxType=\"Link\">{`framework.json`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`ca++.json`}</code>{` Describes changes to the baseline cloud assistant configuration in `}<Link to=\"../../apis/#caf_ca\"mdxType=\"Link\">{`ca.json`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{` Your code.`}</li>\n          </ul>\n          <p>{`To understand the json files have a look at our `}<Link to=\"#components\"mdxType=\"Link\">{`component model`}</Link>{`. Sections `}<Link to=\"#cloud-assistant\"mdxType=\"Link\">{`Cloud Assistant`}</Link>{` and `}<Link to=\"#autonomous\"mdxType=\"Link\">{`Autonomous Computation`}</Link>{` cover `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{`. The script is explained in the `}<Link to=\"#client\"mdxType=\"Link\">{`Client Library`}</Link>{`.`}</p>\n        </DocsSection>\n        <DocsSection id=\"add-react-frontend\"mdxType=\"DocsSection\">\n          <h2>{`Add a React User Interface`}</h2>\n          <p>{`Let's add a `}<em parentName=\"p\">{`React`}</em>{` front end to the previous app.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` playground`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`rm`}</span>{` -fr app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs generate myapp web ./app`}</code></pre></div>\n          <p>{`and again:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs build`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs run -d myapp`}</code></pre></div>\n          <p>{`and now, as we did for testing the `}<Link to=\"#install\"mdxType=\"Link\">{`installation`}</Link>{`, login with the browser, and create a few instances with app name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{`, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root`}</code>{` publisher, since we are in local mode.`}</p>\n          <p>{`The app uses `}<Link to=\"/autonomous\"mdxType=\"Link\">{`Proactive Server Side Rendering (PSSR)`}</Link>{` for fast app switching. The json files add the required `}<Link to=\"../../apis/#caf_react\"mdxType=\"Link\">{`React plugin`}</Link>{`.  In `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{` there is also a new method `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`hello()`}</code>{`, which provides the cache key for rendering, and a few calls to the new plugin. Without PSSR the cloud code would look similar to the previous example.`}</p>\n          <p>{`The code in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`public`}</code>{` is mostly a standard `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`React`}</code>{` app, which uses `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`redux`}</code>{` to manage state, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`react-bootstrap`}</code>{` components to build the UI.`}</p>\n          <p>{`The only novelties are a session object to connect to a cloud assistant in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`AppSession.js`}</code>{`, binding actions to remote methods in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`AppActions.js`}</code>{`, and a custom initialization in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`app.js`}</code>{`.`}</p>\n          <p>{`These are `}<strong parentName=\"p\">{`not`}</strong>{` hard dependencies. This is just an example integrating `}<em parentName=\"p\">{`Caf.js`}</em>{` with a front end, using libraries that we are familiar with. There are no `}<em parentName=\"p\">{`Caf.js`}</em>{` dependencies with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`react-bootstrap`}</code>{`. Replacing `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`redux`}</code>{` by another state management solution just needs a simple integration with the client library, similar to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`AppActions.js`}</code>{`. For PSSR, replacing `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`React`}</code>{` by another framework would require a new plugin.`}</p>\n        </DocsSection>\n        <DocsSection id=\"cafjs-cloud\"mdxType=\"DocsSection\">\n          <h2>{`Caf.js Cloud`}</h2>\n          <p>{`If you are self-hosting your apps, you can skip this section.`}</p>\n          <p>{`The `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{` is currently in beta, and this section is likely to change.`}</p>\n          <h4>{`Requirements`}</h4>\n          <p>{`Create a `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{` account `}<a parentName=\"p\"{...{\"href\":\"https://root-launcher.cafjs.com\"}}>{`here`}</a>{`.`}</p>\n          <p>{`Login and create an instance of the `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_turtles.git\"}}>{`Turtles`}</a>{` deployer (app publisher `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root`}</code>{`, app name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`turtles`}</code>{`, choose any name for your instance).`}</p>\n          <p>{`To publish a `}<strong parentName=\"p\">{`public`}</strong>{` `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Docker`}</code>{` image containing your app, you need an account on a public Docker registry. For example, `}<a parentName=\"p\"{...{\"href\":\"https://hub.docker.com\"}}>{`Docker Hub`}</a>{`,  `}<a parentName=\"p\"{...{\"href\":\"https://docs.github.com/en/packages/guides/about-github-container-registry\"}}>{`GitHub Container Registry`}</a>{`, and `}<a parentName=\"p\"{...{\"href\":\"https://docs.gitlab.com/ee/user/packages/container_registry/\"}}>{`GitLab Container Registry`}</a>{`, they all have free plans. We use internally the `}<a parentName=\"p\"{...{\"href\":\"https://cloud.google.com/container-registry\"}}>{`Google Container Registry`}</a>{`.`}</p>\n          <p>{`If you do not have a registry account, but just want to try `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Turtles`}</code>{`, the image for this example is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`gcr.io/cafjs-k8/root-webexample`}</code>{`.`}</p>\n          <h4>{`Deploy`}</h4>\n          <p>{`Let's create an image with the previous app. Change the image name prefix to match your registry provider.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` playground/app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs mkImage `}<span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`.`}</span>{` gcr.io/cafjs-k8/root-webexample`}</code></pre></div>\n          <p>{`Ensure that it runs fine before uploading`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs run --appImage gcr.io/cafjs-k8/root-webexample myapp`}</code></pre></div>\n          <p>{`and then create test local instances as before.`}</p>\n          <p>{`Now we are ready to upload the image`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`docker push gcr.io/cafjs-k8/root-webexample`}</code></pre></div>\n          <p>{`Login to `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{` `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`https://root-launcher.cafjs.com`}</code>{` using a browser.`}</p>\n          <p>{`And then, to go live, you need to do two things:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Register the app with the top left menu.`}</li>\n            <li parentName=\"ul\">{`Deploy with `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`Turtles`}</code>{`.`}</li>\n          </ul>\n          <p>{`When you register this app, choose a name, a plan, and the percentage of profit that you want to make. Based on that your app gets a price in subscription-days per unit. A unit is 10 cents plus fees. See section `}<Link to=\"../../hosting\"mdxType=\"Link\">{`Caf.js Cloud`}</Link>{` for details.`}</p>\n          <p>{`To deploy with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Turtles`}</code>{` use the previous app and image names. Set `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Disable CDN`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`On`}</code>{`, unless you have configured your own CDN in the image. You can also set environment properties for your app. We use properties to configure secrets since images are always public.`}</p>\n          <p>{`Check the status of your app (assuming your username is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`antonio`}</code>{`, and the app name is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`mycoolapp`}</code>{`)`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`curl`}</span>{` https://antonio-mycoolapp.cafjs.com/ping`}</code></pre></div>\n          <p>{`and monitor its performance with`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`curl`}</span>{` https://antonio-mycoolapp.cafjs.com/stats`}</code></pre></div>\n          <p>{`After a few seconds, you, and `}<strong parentName=\"p\">{`every other user`}</strong>{`, can create an instance of your app with the top-left menu, using your username `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`antonio`}</code>{` as publisher, and the previous app name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`mycoolapp`}</code>{`.`}</p>\n          <p>{`And when they do, you `}<strong parentName=\"p\">{`keep getting units`}</strong>{` for as long as they use your app.`}</p>\n          <p>{`Maintaining a registered app costs one unit per week. Do not forget to `}<strong parentName=\"p\">{`delete`}</strong>{` the app with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Turtles`}</code>{`, `}<strong parentName=\"p\">{`and unregister`}</strong>{` it with the top left menu, when you are done.`}</p>\n          <p>{`With the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`People`}</code>{` app, you can view stats for your registered apps, your active cloud assistants, or the current unit balance. You can also use this app to buy more units, or send/receive units to/from other users. This app is free and always installed.`}</p>\n        </DocsSection>\n        <DocsSection id=\"add-device\"mdxType=\"DocsSection\">\n          <h2>{`Add a Simulated Device`}</h2>\n          <h4>{`Software Requirements`}</h4>\n          <p>{`When `}<em parentName=\"p\">{`Caf.js`}</em>{` simulates a device, it creates images for an ARM processor, and executes ARM binaries. The goal is to be as close as possible to the real thing.`}</p>\n          <p>{`To do that, install in your Linux box the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`qemu-user-static`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`binfmt`}</code>{` modules. For example, in Ubuntu:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`sudo`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`apt-get`}</span>{` update `}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`&&`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`sudo`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`apt-get`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span>{` -y qemu-user-static binfmt-support`}</code></pre></div>\n          <h4>{`IoT Device App`}</h4>\n          <p>{`Let's create an app that provides a `}<Link to=\"/permanent\"mdxType=\"Link\">{`permanent presence`}</Link>{` for an IoT device.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` playground`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`rm`}</span>{` -fr app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs generate myapp iot ./app`}</code></pre></div>\n          <p>{`and then install, build, and run.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs build`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs run -d myapp`}</code></pre></div>\n          <p>{`The `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_gadget.git\"}}>{`Gadget`}</a>{` app manages IoT devices. Login with the local URL `}<a parentName=\"p\"{...{\"href\":\"http://root-launcher.vcap.me\"}}>{`http://root-launcher.vcap.me`}</a>{` and create a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` instance with publisher `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root`}</code>{` and app name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`gadget`}</code>{`. The instance name should match the name of the device, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`device1`}</code>{`.`}</p>\n          <p>{`Create an instance of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{` (publisher is always `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root`}</code>{` in local deployment), ensure that the instance name matches the device name, i.e., `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`device1`}</code>{`.`}</p>\n          <p>{`Go back to the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` instance and set the app name to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root-myapp`}</code>{`. This app does not need privileged mode, but most do, as the pop-up warning explains. You can also set environment properties for the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`node.js`}</code>{` process running in the device.`}</p>\n          <p>{`After `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Update`}</code>{` you should see `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Token=yes`}</code>{` because we created the app after the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` instance. If that is not the case, just go back to the app, and the token will transparently propagate.`}</p>\n          <p>{`Now we are ready to start the simulated device in another console. Note that the name of the device should be `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`device1`}</code>{`.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs device -d foo-device1`}</code></pre></div>\n          <p>{`The first thing the new device does is to download from its `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` instance a Docker image spec for the current app. Building this ARM image takes about a minute in my laptop, but images are cached in the host, and only rebuild when the spec changes. Then, it starts the app in a container.`}</p>\n          <p>{`Since we started the app with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`-d`}</code>{` (debug mode), you should see the debug logs in the console. If you go back to the instance of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{`, and click `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Do it!`}</code>{`, you should see in the log `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`setPin`}</code>{` set to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`true`}</code>{`, and about a second later, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`setPin`}</code>{` set to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`false`}</code>{`. That's our blink.`}</p>\n          <p>{`Debug mode also opens port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`9230`}</code>{` for attaching the Chrome browser developer tools. The catch is that the source path inside the container is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`/usr/src/app/lib`}</code>{`, different from the host path. To set breakpoints, use this path when loading files.`}</p>\n          <p>{`With three instances of the developer tools we can set breakpoints in the front end, the simulated cloud (port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`9229`}</code>{`), and the simulated device (port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`9230`}</code>{`).`}</p>\n          <p>{`What has changed inside the box?`}</p>\n          <p>{`We have a new directory `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot`}</code>{` with code that runs in the device. Two important files inside `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot/lib`}</code>{`:`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`iot++.json`}</code>{` Describes changes to the baseline IoT device configuration in `}<Link to=\"../../apis/#caf_iot\"mdxType=\"Link\">{`iot.json`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`iot_methods.js`}</code>{` Your code.`}</li>\n          </ul>\n          <p>{`Section `}<Link to=\"#iot-device\"mdxType=\"Link\">{`IoT Device`}</Link>{` covers `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot_methods.js`}</code>{`.`}</p>\n          <p>{`In `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib/*.json`}</code>{` we have added a new `}<Link to=\"../../apis/#caf_iot\"mdxType=\"Link\">{`IoT`}</Link>{` plugin. Also, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`ca_methods.js`}</code>{` has new methods called by the device, and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`hello()`}</code>{` propagates the authentication token to the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` app.`}</p>\n        </DocsSection>\n        <DocsSection id=\"raspberry-pi\"mdxType=\"DocsSection\">\n          <h2>{`Add a Raspberry Pi`}</h2>\n          <h4>{`Requirements`}</h4>\n          <p>{`Raspberry Pi 3/4 with a modern (2020 or later) Raspberry Pi OS.`}</p>\n          <p>{`Install in the RPi both `}<em parentName=\"p\">{`Docker`}</em>{` and the `}<em parentName=\"p\">{`Caf.js`}</em>{` management daemon, as described in `}<Link to=\"../../apis/#caf_rpi\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n          <p>{`For this discussion we assume `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{` hosting. It is also possible to integrate an RPi with a local deployment by using the laptop external IP address, and not the local loop address. See `}<Link to=\"#tools\"mdxType=\"Link\">{`Tools`}</Link>{` for details.`}</p>\n          <h4>{`IoT Device App`}</h4>\n          <p>{`Deploy the previous `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{` in the Cloud. See `}<Link to=\"#cafjs-cloud\"mdxType=\"Link\">{` Caf.js Cloud`}</Link>{`.`}</p>\n          <p>{`When the name of the device is, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`antonio-device1`}</code>{`, both the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Gadget`}</code>{` and `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{` instance names should be `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`device1`}</code>{`.`}</p>\n          <p>{`After that, the experience should be similar to the simulated case. But instead of printing log messages, the GPIO pin in the RPi should turn on and off, blinking a light, or making a sound, based on what is connected to the GPIO pins.`}</p>\n        </DocsSection>\n        <DocsSection id=\"three-way-isomorphic\"mdxType=\"DocsSection\">\n          <h2>{`Three-way Isomorphic`}</h2>\n          <p>{`We discussed the benefits of a three-way isomorphic framework `}<Link to=\"/permanent#three-way\"mdxType=\"Link\">{`here`}</Link>{`.`}</p>\n          <h4>{`Requirements`}</h4>\n          <p>{`We tested this app with a `}<a parentName=\"p\"{...{\"href\":\"https://www.puck-js.com/\"}}>{`Puck.js`}</a>{`, a programmable Bluetooth beacon. This beacon is very easy to program using JavaScript, and we can add GATT services and advertisements with a few lines of code. See `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_hellopuckjs.git\"}}>{`HelloPuck`}</a>{` for details.`}</p>\n          <p>{`If you do not have a `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Puck.js`}</code>{`, you should be able to easily adapt this example to other Bluetooth devices. Configure GATT services and characteristics in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`lib/ca++.json`}</code>{`. Change payload types in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`iot/lib/iot_methods.js`}</code>{`.`}</p>\n          <p>{`The Web Bluetooth API is supported by the `}<em parentName=\"p\">{`Chrome`}</em>{` browser in both Android and desktop platforms. On a Linux desktop enable `}<em parentName=\"p\">{`Experimental Web Platform Features`}</em>{` with `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`chrome://flags`}</code>{`. `}<em parentName=\"p\">{`Firefox`}</em>{` or `}<em parentName=\"p\">{`Safari`}</em>{` will not work. For `}<em parentName=\"p\">{`Apple iOS`}</em>{` we have sucessfully run simple examples with the `}<a parentName=\"p\"{...{\"href\":\"https://apps.apple.com/us/app/webble/id1193531073\"}}>{`WebBLE`}</a>{` browser, but some code changes are needed. `}<a parentName=\"p\"{...{\"href\":\"https://apps.apple.com/us/app/bluefy-web-ble-browser/id1492822055\"}}>{`Bluefy`}</a>{` is another `}<em parentName=\"p\">{`Apple iOS`}</em>{` browser option.`}</p>\n          <h4>{`Bluetooth App`}</h4>\n          <p>{`Let's build a three-way isomorphic Bluetooth app with `}<em parentName=\"p\">{`Caf.js`}</em>{`.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` playground`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`rm`}</span>{` -fr app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs generate myapp iotbrowser ./app`}</code></pre></div>\n          <p>{`and then install, build, and run.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` app`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs `}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`install`}</span><span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` cafjs build`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{`  cafjs run -d myapp`}</code></pre></div>\n          <p>{`With `}<em parentName=\"p\">{`Chrome`}</em>{`, login and create an instance of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{` with publisher `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`root`}</code>{`, app name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{`, and instance name `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`puck1`}</code>{`.`}</p>\n          <p>{`Switch the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Browser Daemon`}</code>{` option to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`on`}</code>{`. It will create a tab with a new hostname `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`http://root-myapp.localhost:3003/`}</code>{`. Chrome allows subdomains for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`localhost`}</code>{`, and port `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`3003`}</code>{` provides direct access to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`myapp`}</code>{`. The Web Bluetooth API requires `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`https`}</code>{` or `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`localhost`}</code>{`. It is also blocked inside a cross-origin iframe. By spawning the iframe into its own page, with a new hostname, we avoid these limitations.`}</p>\n          <p>{`Click `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Find`}</code>{`, then `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Click to Pair`}</code>{`, select the compatible device, and then confirm. After that, blink the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Puck.js`}</code>{` light, or click the physical `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Puck.js`}</code>{` button to start receiving notification from the beacon. Sharing a URL allows someone remote to interact with the beacon, see `}<Link to=\"/permanent\"mdxType=\"Link\">{`Permanent Presence`}</Link>{`.`}</p>\n          <p>{`The bridging code runs inside the iframe `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`index-iot.html`}</code>{`, with the same origin as the top context. Using the `}<em parentName=\"p\">{`Chrome`}</em>{` developer tools we can debug device code by targeting this iframe.`}</p>\n          <p>{`What about isomorphic?`}</p>\n          <p>{`We can deploy this app unchanged on a Raspberry Pi, see the previous `}<Link to=\"#raspberry-pi\"mdxType=\"Link\">{`section`}</Link>{`. Keep the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Browser Daemon`}</code>{` option to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`off`}</code>{`. The user interface simplifies, with fewer clicks, but the overall functionality is similar.`}</p>\n          <p>{`Note that you should use a different instance name, matching the Raspberry Pi name, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`rpi1`}</code>{` instead of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`puck1`}</code>{`. Never reuse an instance name for both browser and RPi.`}</p>\n          <p>{`And this application also executes device code in the Cloud, introspecting device methods in the `}<Link to=\"../../apis/#caf_iot\"mdxType=\"Link\">{`IoT plugin`}</Link>{`.`}</p>\n          <p>{`Some important code changes:`}</p>\n          <ul>\n            <li parentName=\"ul\">{`Modify the build system in `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`bin/build.sh`}</code>{` to `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`browserify`}</code>{` device code.`}</li>\n            <li parentName=\"ul\">{`Introduce `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`iot/lib/main-shim.js`}</code>{` as the new entry point for the device in the browser.`}</li>\n            <li parentName=\"ul\">{`Spawn a page that executes device code in an iframe (`}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`public/js/components/Finder.js`}</code>{`).`}</li>\n            <li parentName=\"ul\">{`Add a `}<Link to=\"../../apis/#caf_iot_gatt\"mdxType=\"Link\">{`Bluetooth plugin`}</Link>{` in `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`iot/lib/iot++.json`}</code>{`.`}</li>\n            <li parentName=\"ul\">{`Add a React app for remote interaction in `}<code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`public/user`}</code>{`.`}</li>\n          </ul>\n        </DocsSection>\n      </DocsArticle>\n      <DocsArticle id=\"apis\"mdxType=\"DocsArticle\">\n        <h1>{`APIs`}</h1>\n        <p>{`You can see the jsdoc documentation `}<Link to=\"/apis\"mdxType=\"Link\">{`here`}</Link></p>\n      </DocsArticle>\n      <DocsArticle id=\"tools\"mdxType=\"DocsArticle\">\n        <h1>{`Tools`}</h1>\n        <DocsSection id=\"cafjs-tool\"mdxType=\"DocsSection\">\n          <h2>{`cafjs`}</h2>\n          <p><code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs`}</code>{` is a wrapper to all our command line tools.`}</p>\n          <p>{`Type `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs help`}</code>{` for an overview of the subcommands, and, for example, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs device --help`}</code>{` for a description of the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`device`}</code>{` subcommand options.`}</p>\n          <p>{`A detailed description of `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs`}</code>{` can be found in `}<Link to=\"../../apis/#caf_dcinabox\"mdxType=\"Link\">{`here`}</Link></p>\n          <p>{`Let's enumerate the most important subcommands, and link to usage examples in this documentation.`}</p>\n          <ul>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`run`}</code>{`  sets up a simulated cloud with Docker containers, mounts a local volume or an image with your app, and then starts it. `}<Link to=\"#install\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`install`}</code>{` installs all the workspace packages for your app. `}<Link to=\"#headless-example\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`build`}</code>{` builds an application using local dependencies. `}<Link to=\"#install\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`reset`}</code>{` brute force clean-up of docker containers and virtual networks. `}<Link to=\"#install\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`device`}</code>{` simulates a device. `}<Link to=\"#add-device\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`mkImage`}</code>{` builds a Docker image from a packed app or directory. `}<Link to=\"#cafjs-cloud\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`generate`}</code>{` creates an skeleton app using a template. `}<Link to=\"#headless-example\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n            <li parentName=\"ul\"><code parentName=\"li\"{...{\"className\":\"language-text\"}}>{`update`}</code>{` pulls the current core Docker images. `}<Link to=\"#install\"mdxType=\"Link\">{`Example`}</Link>{`.`}</li>\n          </ul>\n          <h4>{`Local Multi-Host Deployment`}</h4>\n          <p>{`To attach a real device to a local `}<em parentName=\"p\">{`Caf.js`}</em>{` deployment, the network interface that `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs run`}</code>{` uses has to change. By default, the Docker containers use local IP addresses, which are not accessible outside your laptop.`}</p>\n          <p>{`Another difficulty is obtaining a wildcard domain for your external interface. In the default case, `}<em parentName=\"p\">{`Caf.js`}</em>{` uses `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`vcap.me`}</code>{`, which redirects `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`*.vcap.me`}</code>{` to the local IP address `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`127.0.0.1`}</code>{`.`}</p>\n          <p>{`For external IP addresses, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs run`}</code>{` internally uses the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`xip.io`}</code>{` service, which redirects `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`*.192.168.1.15.xip.io`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`192.168.1.15`}</code>{`.`}</p>\n          <p>{`Assuming that this address is your laptop external IP address, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`192.168.1.15.xip.io`}</code>{` is your new wildcard domain. The option `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`--port 8080`}</code>{` sets your external port to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`8080`}</code>{`. And then, the login url becomes `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`http://root-launcher.192.168.1.15.xip.io:8080`}</code>{`.`}</p>\n          <p>{`Start your application`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs run --ipAddress `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`192.168`}</span>{`.1.15 --port `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`8080`}</span>{` myapp`}</code></pre></div>\n          <p>{`and, in another host, the simulated device`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs device -d --ipAddress `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`192.168`}</span>{`.1.15 --port `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`8080`}</span>{` --password bar foo-device1`}</code></pre></div>\n          <p>{`To use a real Raspberry Pi we adapt the startup script in `}<a parentName=\"p\"{...{\"href\":\"https://raw.githubusercontent.com/cafjs/caf_rpi/master/setup.sh\"}}>{`setup.sh`}</a>{`, to first obtain a token from the local service. Assuming device id is `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`foo-device1`}</code>{`, password `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`bar`}</code>{`, and using the root account in the RPi:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}><span parentName=\"code\"{...{\"className\":\"token function\"}}>{`mkdir`}</span>{` -p /config2`}<span parentName=\"code\"{...{\"className\":\"token punctuation\"}}>{`;`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token builtin class-name\"}}>{`cd`}</span>{` /config2\ndocker run --rm -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`ACCOUNTS_URL`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`http://root-accounts.192.168.1.15.xip.io:8080 -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`MY_ID`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`foo-device1 -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`PASSWD`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`bar -v /config2:/config gcr.io/cafjs-k8/root-rpitoken\n`}<span parentName=\"code\"{...{\"className\":\"token function\"}}>{`chmod`}</span>{` `}<span parentName=\"code\"{...{\"className\":\"token number\"}}>{`600`}</span>{` token\n`}</code></pre></div>\n          <p>{`and then start the daemon with the new suffix, port, and protocol.`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`docker run -d --name`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`root-rpidaemon2 --restart`}<span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`always -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`IS_REGISTRY_PRIVATE`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`false -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`APP_SUFFIX`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span><span parentName=\"code\"{...{\"className\":\"token number\"}}>{`192.168`}</span>{`.1.15.xip.io:8080 -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`MY_ID`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`foo-device1 -v /var/run/docker.sock:/var/run/docker.sock  -v /config2:/config -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`APP_PROTOCOL`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`http   -e `}<span parentName=\"code\"{...{\"className\":\"token assign-left variable\"}}>{`CONFIG_VOLUME`}</span><span parentName=\"code\"{...{\"className\":\"token operator\"}}>{`=`}</span>{`/config2 gcr.io/cafjs-k8/root-rpidaemon`}</code></pre></div>\n          <p><code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`xip.io`}</code>{` can be temperamental. An equivalent service, `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`nip.io`}</code>{`, could also be used by setting the property `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`XIP_SUFFIX`}</code>{` to `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`nip.io`}</code>{`, i.e., `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`export XIP_SUFFIX=nip.io; cafjs run ...`}</code>{`, and replacing the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`xip.io`}</code>{` suffix by `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`nip.io`}</code>{` in the scripts.`}</p>\n          <p>{`What about `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`https`}</code>{`? In most cases you don't need it for development. For example, to enable WebXR APIs that need `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`localhost`}</code>{` or `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`https`}</code>{`, we use instead the Chrome developer tools, which provide local port forwarding, and then connect to the laptop USB port the Oculus headset, or Android phone, in debug mode. And now we can use a wildcard domain based on localhost, as shown in `}<Link to=\"#three-way-isomorphic\"mdxType=\"Link\">{` Three-way Isomorphic`}</Link>{`.`}</p>\n          <p>{`But if you really want `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`https`}</code>{`, you need a wildcard certificate, or a service like `}<a parentName=\"p\"{...{\"href\":\"https://ngrok.com\"}}>{`ngrok`}</a>{`, and configure the `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`APP_SUFFIX`}</code>{` property with your new wildcard domain.`}</p>\n          <h4>{`Custom templates for 'cafjs generate'`}</h4>\n          <p>{`The repository `}<a parentName=\"p\"{...{\"href\":\"https://github.com/cafjs/caf_template.git\"}}>{`caf_template`}</a>{` contains the default template for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`cafjs generate`}</code>{`.`}</p>\n          <p>{`A template is a Docker image that contains mostly data. The Docker entrypoint is the top level script `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`copyAll.sh`}</code>{`. Just copy this file into your image. The subdirectories in `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`templates`}</code>{` define the target names for `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`generate`}</code>{`. Mustache template files have the extension `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`.mustache`}</code>{`.`}</p>\n          <p>{`To use a different template:`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs generate --templateImage gcr.io/your_image myapp`}</code></pre></div>\n          <p>{`and to refresh the template before using it`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`cafjs generate --update --templateImage gcr.io/your_image myapp`}</code></pre></div>\n          <p>{`or just`}</p>\n          <div{...{\"className\":\"gatsby-highlight\",\"data-language\":\"shell\"}}><pre parentName=\"div\"{...{\"className\":\"language-shell\"}}><code parentName=\"pre\"{...{\"className\":\"language-shell\"}}>{`docker pull  gcr.io/your_image`}</code></pre></div>\n        </DocsSection>\n      </DocsArticle>\n      <DocsArticle id=\"resources\"mdxType=\"DocsArticle\">\n        <h1>{`Resources`}</h1>\n        <p>{`There are many small examples in the main `}<em parentName=\"p\">{`Caf.js`}</em>{` packages. Look under `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`./examples`}</code>{`. They run without a container, with security off, and they are a simple way to get started.`}</p>\n        <p>{`There are also sixteen example apps in the top `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`Caf.js`}</code>{` repo, under `}<code parentName=\"p\"{...{\"className\":\"language-text\"}}>{`./apps`}</code>{`. Some are better written than others, but together they give you a good overview of what the framework can do. Most of them are already deployed in the `}<em parentName=\"p\">{`Caf.js Cloud`}</em>{`.`}</p>\n      </DocsArticle>\n    </DocsContent>\n\n    </MDXLayout>;};MDXContent.isMDXComponent=true;\n      "],"sourceRoot":""}