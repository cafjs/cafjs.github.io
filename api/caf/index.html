<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-caf_dcinabox.html">caf_dcinabox</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3>caf 0.4.17</h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>Caf.js</h1>
<p>Co-design cloud assistants with your web app and IoT devices.</p>
<p>See http://www.cafjs.com</p>
<h2>Introduction</h2>
<p><a href="https://github.com/cafjs/caf/actions/workflows/push.yml"><img src="https://github.com/cafjs/caf/actions/workflows/push.yml/badge.svg" alt="Build Status"></a></p>
<p>This repository is managed as a monorepo using Yarn workspaces. It contains a consistent snapshot of all the other <code>Caf.js</code> sub-projects, included as git submodules.</p>
<p>Write your app in a subdirectory of <code>caf/playground/app</code>, and yarn workspaces will also manage your app dependencies. This is recommended because it guarantees that all your <code>Caf.js</code> dependencies have been tested together. Ditto with your modules under <code>caf/playground</code>, i.e., they are part of the workspace and do not need to be published during development.</p>
<h2>Getting Started</h2>
<p>Install <code>node</code> &gt;=10 and <code>yarn</code> &gt;=1.3.2. Our development is mostly on Linux. Note that <code>npm</code> does not understand Yarn workspaces, you need to use <code>yarn</code>.</p>
<p>Clone this repository (<code>git clone https://github.com/cafjs/caf.git</code>) and update submodules:</p>
<pre class="prettyprint source"><code>    cd caf; git submodule update --init
</code></pre>
<p>Install all the dependencies (it takes about 30s in my laptop):</p>
<pre class="prettyprint source"><code>    yarn run installAll
</code></pre>
<p>add to your path the <code>cafjs</code> tool path:</p>
<pre class="prettyprint source"><code>    export PATH=&lt;your_install_directory>/caf/bin:$PATH
</code></pre>
<p>and now let's build and run locally a simple app:</p>
<pre class="prettyprint source"><code>    cd apps/caf_helloworld; cafjs build; cafjs run helloworld
</code></pre>
<p>The first call to <code>cafjs run</code> may take a few minutes because it downloads the core Docker images. If your connection is slow you may see timeout exceptions, which can be ignored because it continues with the download.</p>
<p>The app server URL is http://root-launcher.vcap.me (DNS always resolves <code>*.vcap.me</code> to <code>127.0.0.1</code>, i.e., the local loop). With your browser, login with user <code>foo</code> and password <code>bar</code>, and then click the <code>+</code> icon to add a <code>helloworld</code> CA. A CA (Cloud Assistant) is a cloud proxy instance for your app. Fill the form as follows:</p>
<ul>
<li>Application publisher: <code>root</code></li>
<li>Application name: <code>helloworld</code></li>
<li>CA name: anything containing ASCII characters and numbers.</li>
</ul>
<p>and a <code>counter</code> example should appear. Use the <code>+</code> again to create other CAs, and then select the menu on the top left to switch between them.</p>
<p>To stop it, a single <code>Control-C</code> will initiate a gentle container shutdown but, for the impatient, a second <code>Control-C</code> will brute force a clean-up.</p>
<p>In both cases we should be able to restart without losing the CA's state. This state is checkpointed using a Redis container that mounts a host volume (log file in <code>/tmp/redis/appendonly.aof</code>, host port 6380). To start from scratch, delete the log file in the host.</p>
<p>With the <code>cafjs</code> command we can also create apps from templates, simulate devices, build container images to publish in our cloud service, i.e., https://root-launcher.cafjs.com, or reset after a hang. See <a href="external-caf_dcinabox.html">external:caf_dcinabox</a> (https://cafjs.github.io/api/caf_dcinabox) for details.</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Fri Nov 19 2021 19:03:35 GMT-0800 (Pacific Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>