<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>caf 0.3.5</h3>










    




    <section>
        <article><h1>Caf.js</h1>
<p>Co-design permanent, active, stateful, reliable cloud proxies with your web app and IoT devices.</p>
<p>See http://www.cafjs.com</p>
<h2>Introduction</h2>
<p><a href="https://travis-ci.org/cafjs/caf"><img src="https://travis-ci.org/cafjs/caf.svg?branch=master" alt="Build Status"></a></p>
<p>This repository is managed as a monorepo using Yarn workspaces. It contains a consistent snapshot of all the other <code>Caf.js</code> sub-projects, included as git submodules.</p>
<p>Write your app in a subdirectory of <code>caf/playground/app</code>, and yarn workspaces will also manage your app dependencies. This is recommended because it guarantees that all your <code>Caf.js</code> dependencies have been tested together. Ditto with your modules under <code>caf/playground</code>, i.e., they are part of the workspace and do not need to be published during development.</p>
<h2>Getting Started</h2>
<p>Install <code>node</code> &gt;=10 and <code>yarn</code> &gt;=1.3.2. Our development is mostly on Linux. Note that <code>npm</code> does not understand Yarn workspaces, you need to use <code>yarn</code>.</p>
<p>Clone this repository (<code>git clone https://github.com/cafjs/caf.git</code>) and update submodules:</p>
<pre><code>  cd caf; git submodule update --init
</code></pre>
<p>Install all the dependencies (it takes about 30s in my laptop):</p>
<pre><code>yarn run installAll
</code></pre>
<p>add to your path the <code>cafjs</code> tool path:</p>
<pre><code>export PATH=&lt;your_install_directory&gt;/caf/bin:$PATH
</code></pre>
<p>and now let's build and run locally a simple app:</p>
<pre><code>cd apps/caf_helloworld; cafjs build; cafjs run helloworld
</code></pre>
<p>The first call to <code>cafjs run</code> may take a few minutes because it downloads the core Docker images. If your connection is slow you may see timeout exceptions, which can be ignored because it continues with the download.</p>
<p>The app server URL is http://root-launcher.vcap.me (DNS always resolves <code>*.vcap.me</code> to <code>127.0.0.1</code>, i.e., the local loop). With your browser, login with user <code>foo</code> and password <code>pleasechange</code>, and then click the <code>+</code> icon to add a <code>helloworld</code> CA. A CA (Cloud Assistant) is a cloud proxy instance for your app. Fill the form as follows:</p>
<ul>
<li>Application publisher: <code>root</code></li>
<li>Application name: <code>helloworld</code></li>
<li>CA name: anything containing ASCII characters and numbers.</li>
</ul>
<p>and a <code>counter</code> example should appear. Use the <code>+</code> again to create other CAs, and then select the menu on the top left to switch between them.</p>
<p>To stop it, a single <code>Control-C</code> will initiate a gentle container shutdown but, for the impatient, a second <code>Control-C</code> will brute force a clean-up.</p>
<p>In both cases we should be able to restart without losing the CA's state. This state is checkpointed using a Redis container that mounts a host volume (log file in <code>/tmp/redis/appendonly.aof</code>, host port 6380). To start from scratch, delete the log file in the host.</p>
<p>With the <code>cafjs</code> command we can also create apps from templates, simulate devices, build container images to publish in our cloud service, i.e., https://root-launcher.cafjs.com, or reset after a hang. See <a href="external-caf_dcinabox.html">external:caf_dcinabox</a> (https://cafjs.github.io/api/caf_dcinabox) for details.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-caf_dcinabox.html">caf_dcinabox</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Mar 31 2020 22:15:39 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>