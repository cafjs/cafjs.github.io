<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>caf_iot_gatt/proxy_iot_gatt - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-caf_iot_gatt_plug_iot_gatt.html">caf_iot_gatt/plug_iot_gatt</a><ul class='methods'><li data-type='method'><a href="module-caf_iot_gatt_plug_iot_gatt.html#.newInstance">newInstance</a></li></ul></li><li><a href="module-caf_iot_gatt_proxy_iot_gatt.html">caf_iot_gatt/proxy_iot_gatt</a><ul class='methods'><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#.newInstance">newInstance</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#compareId">compareId</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#dirtyRead">dirtyRead</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#disconnect">disconnect</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#findCharacteristics">findCharacteristics</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#findServices">findServices</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#findServicesWeb">findServicesWeb</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#matchServiceId">matchServiceId</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#read">read</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#reset">reset</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#stopFindServices">stopFindServices</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#subscribe">subscribe</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#unsubscribe">unsubscribe</a></li><li data-type='method'><a href="module-caf_iot_gatt_proxy_iot_gatt.html#write">write</a></li></ul></li><li><a href="module-caf_iot_gatt_util_gatt.html">caf_iot_gatt/util_gatt</a></li></ul><h3>Externals</h3><ul><li><a href="external-caf_components_gen_proxy.html">caf_components/gen_proxy</a></li><li><a href="external-caf_iot_gen_plug_iot.html">caf_iot/gen_plug_iot</a></li></ul><h3>Global</h3><ul><li><a href="global.html#assert">assert</a></li><li><a href="global.html#newInstance">newInstance</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">caf_iot_gatt/proxy_iot_gatt</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>A proxy to access BLE GATT services.</p>
<p>The typical workflow is:</p>
<ol>
<li>
<p><code>findServices</code> to find devices that export a particular service. If
reading advertised data is all it is needed, stop here.</p>
</li>
<li>
<p>Otherwise, pick one of them. Use <code>findCharacteristics</code> to create a
connnection and discover its characteristics.</p>
</li>
<li>
<p>Read/Write/Subscribe/Unsubscribe to these characteristics.</p>
</li>
<li>
<p>Disconnect, and if needed, go back to step 2 with a different device.</p>
</li>
</ol>
<p>Note that to maintain compatibility with current WebBluetooth API we are
not discovering all BLE services in a device. The service id needs
to be known beforehand.</p></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line20">line 20</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="external-caf_components_gen_proxy.html">external:caf_components/gen_proxy</a></li>
    </ul>


    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".newInstance"><span class="type-signature">(static) </span>newInstance<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line54">line 54</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Factory method to access GATT services.</p>
</div>




























        
            

    

    <h4 class="name" id="compareId"><span class="type-signature"></span>compareId<span class="signature">(x, y)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line394">line 394</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Utility function to compare characteristic ids.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>x</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>A characteristic id to compare.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Another characteristic id to compare.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>True if they map to the same characteristic.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="dirtyRead"><span class="type-signature"></span>dirtyRead<span class="signature">(characteristic)</span><span class="type-signature"> &rarr; {Promise.&lt;Buffer>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line305">line 305</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Dirty reads the value of a GATT characteristic, i.e., breaking the
transaction.</p>
<p>The read timed out, rejecting the promise with an error, if it takes
longer than <code>RWCharactTimeout</code> msec.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>characteristic</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.characteristic</span>


            
            </td>

            

            

            <td class="description last"><p>A characteristic to
read.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise with the read value.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Buffer></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="disconnect"><span class="type-signature"></span>disconnect<span class="signature">(device, delay<span class="signature-attributes">opt</span>, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;null>|null}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line248">line 248</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Disconnects from a device.</p>
<p>The method <code>findCharacteristics</code> creates the connection, and keeps it
open to read/write/subscribe characteristics.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>device</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.peripheral</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>A device to disconnect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An optional delay in msec before
disconnecting.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">cbType</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An optional callback to wait for disconnection.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for disconnection if
there was no callback, or <code>null</code> otherwise.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;null></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="findCharacteristics"><span class="type-signature"></span>findCharacteristics<span class="signature">(serviceId, device, charIds<span class="signature-attributes">opt</span>, cb<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;CharactInfo>|null}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Finds GATT characteristics of a service.</p>
<p>Implicitly stops scanning for services.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>serviceId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>A service identifier.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>device</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.peripheral</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>A device returned by <code>findServices</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charIds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional identifiers for the
characteristics. If undefined, all the characteristics
will be returned. Otherwise, the order in the array response
will match the order of this array, and an error will be propagated
if any is missing.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">cbType</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A standard callback returning an error, possibly
due to a timeout, or an object of type <code>CharactInfo</code>:</p>
<p>{service: noble.service, device: noble.peripheral,
characteristics:  Array.&lt;noble.characteristic&gt;}</p>
<p>where <code>service.uuid</code> is the original identifier.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise with the
characteristics if no callback was provided, or <code>null</code> otherwise.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;CharactInfo></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="findServices"><span class="type-signature"></span>findServices<span class="signature">(service, handlerMethodName, namePrefix)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Finds BLE devices that export a GATT service or a collection of
GATT services.</p>
<p>The provided method will be called with each device exporting the
service. To stop the scanning call <code>stopFindServices</code> or
<code>findCharacteristics</code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>service</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>A service(s) id. They will get
converted to lower case due to <code>noble</code> package requirements.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handlerMethodName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The method called when a device is
found. The type is signature is <code>function(service, device, cb)</code>
where:</p>
<ul>
<li><code>service</code> type  is string or array of strings</li>
<li><code>device</code> type is noble.peripheral (see
https://github.com/sandeepmistry/noble.git)</li>
<li><code>cb</code> type is <code>caf.cb</code></li>
</ul>
<p>or <code>async function(service, device)</code> returning an array with an
error/data pair.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>namePrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>An optional name prefix to filter
devices. This is needed if no GATT services are advertised. If the
value is not null, this call will no longer filter based on service
ids.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="findServicesWeb"><span class="type-signature"></span>findServicesWeb<span class="signature">(service, handlerMethodName, clickable, confirm, namePrefix)</span><span class="type-signature"> &rarr; {Promise.&lt;null>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line133">line 133</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Finds BLE devices using the <code>Web Bluetooth API</code> that export a GATT
service or a collection of GATT services.</p>
<p>This method is needed in the browser since the
<code>Web Bluetooth API</code> requires a user click before starting the
search. It needs access to the DOM, so it only works in the browser.</p>
<p>A returned promise allows the client to wait for user selection.</p>
<p>The provided method will be called with the selected device
exporting the service(s).</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>service</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>A service(s) id.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handlerMethodName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The method called when a device is
found. The type is signature is <code>function(service, device, cb)</code>
where:</p>
<ul>
<li><code>service</code> type  is string or array of strings</li>
<li><code>device</code> type is noble.peripheral (see
https://github.com/sandeepmistry/noble.git)</li>
<li><code>cb</code> type is <code>caf.cb</code></li>
</ul>
<p>or <code>async function(service, device)</code> returning an array with an
error/data pair.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clickable</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The id of an HTML button to start the
search.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>confirm</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The id of an HTML confirmation message.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>namePrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>An optional name prefix to filter
devices. This is needed if no GATT services are advertised. If the
value is not null, this call will no longer filter based on service
ids.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for selection.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;null></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="matchServiceId"><span class="type-signature"></span>matchServiceId<span class="signature">(services, serviceId)</span><span class="type-signature"> &rarr; {noble.service|null}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line413">line 413</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Utility function to select a service by comparing ids.</p>
<p>The type <code>noble.service</code> is an object that contains the field <code>uuid</code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>services</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;noble.service></span>


            
            </td>

            

            

            <td class="description last"><p>An array of gatt services.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serviceId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>A service id to compare.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A service in <code>services</code> with matching
id or <code>null</code> if not found.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">noble.service</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(characteristic, handlerMethodName)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line285">line 285</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Reads the value of a  GATT characteristic.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>characteristic</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.characteristic</span>


            
            </td>

            

            

            <td class="description last"><p>A characteristic to
read.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handlerMethodName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The method called with the
characteristic value.</p>
<p>The type is signature is <code>function(charact, value, cb)</code>
where:</p>
<ul>
<li><code>charact</code> type is noble.characteristic</li>
<li><code>value</code> type is Buffer</li>
<li><code>cb</code> type is <code>caf.cb</code></li>
</ul>
<p>or <code>async function(charact, value)</code> returning an array with an
error/data pair.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;null>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Disconnects from all connections.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for disconnection.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;null>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="stopFindServices"><span class="type-signature"></span>stopFindServices<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line185">line 185</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Stops scanning for services.</p>
</div>




























        
            

    

    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(characteristic, handlerMethodName)</span><span class="type-signature"> &rarr; {Promise.&lt;null>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line358">line 358</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Subscribes to a  GATT characteristic.</p>
<p>This operation times out, rejecting the promise with an error, if it
takes longer than <code>RWCharactTimeout</code> msec.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>characteristic</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.characteristic</span>


            
            </td>

            

            

            <td class="description last"><p>A characteristic to
read.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handlerMethodName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The method called with the
characteristic value.</p>
<p>The method type signature is <code>function(charact, value, cb)</code>
where:</p>
<ul>
<li><code>charact</code> type is noble.characteristic</li>
<li><code>value</code> type is Buffer</li>
<li><code>cb</code> type is <code>caf.cb</code></li>
</ul>
<p>or <code>async function(charact, value)</code> returning an array with an
error/data pair.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for completion or notify
a timeout error.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;null></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(characteristic)</span><span class="type-signature"> &rarr; {Promise.&lt;null>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line379">line 379</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Unsubscribes to a  GATT characteristic.</p>
<p>This operation times out, rejecting the promise with an error, if it
takes longer than <code>RWCharactTimeout</code> msec.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>characteristic</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.characteristic</span>


            
            </td>

            

            

            <td class="description last"><p>A characteristic to
unsubscribe.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for completion or notify
a timeout error.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;null></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="write"><span class="type-signature"></span>write<span class="signature">(characteristic, value, withoutResponse<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;null>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="proxy_iot_gatt.js.html">proxy_iot_gatt.js</a>, <a href="proxy_iot_gatt.js.html#line327">line 327</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Writes the value of a  GATT characteristic.</p>
<p>This write times out, rejecting the promise with an error, if it
takes longer than <code>RWCharactTimeout</code> msec.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>characteristic</code></td>
            

            <td class="type">
            
                
<span class="param-type">noble.characteristic</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>A characteristic to
write.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The new value.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>withoutResponse</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Uses GATT &quot;write without response&quot;
whenever possible. Web Bluetooth API currently ignores it.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise to wait for completion or notify
a timeout error.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;null></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Mon Nov 28 2022 15:03:23 GMT-0800 (Pacific Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>